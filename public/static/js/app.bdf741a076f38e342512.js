webpackJsonp([1],{"2gu4":function(t,a){},"4GjL":function(t,a,e){t.exports=e.p+"static/img/logo.a7f8e43.jpg"},"7utO":function(t,a){},DQpg:function(t,a){},"E/xg":function(t,a){},FbUX:function(t,a){},GWQt:function(t,a,e){"use strict";(function(t){var s=e("mvHQ"),i=e.n(s),r=e("goV/"),n=e("mw3O");e.n(n);a.a={data:function(){return{currentName:"",currentAddress:{id:"",contact_name:"",contact_phone:"",address:""},currentEyesData:{status:"",left:"",right:"",cylinder:"",pd:"",axis:"",visual_acuity:""},user:{image:{}},tabName:"",active:"",frist_tabs:[{name:"我的信息",info:"myMessage",second_tabs:["个人信息","信息设置","我的地址"]},{name:"我的订单",info:"myOrder",second_tabs:["全部订单","购物车"]}],currentCartItems:[],cartAddress:"",currentPassword:"",newPassword:""}},methods:{tabChange:function(t,a){this.active;this.active=t,this.tabName=a},initAddress:function(t){t?(this.currentAddress=JSON.parse(i()({id:t.id,contact_name:t.contact_name,contact_phone:t.contact_phone,address:t.address})),console.log(this.currentAddress)):this.currentAddress={id:"",contact_name:"",contact_phone:"",address:""}},modelOpen:function(t){this.initAddress(t)},addAddress:function(){var a=this;for(var e in this.currentAddress)if(""==String(this.currentAddress[e]).trim()&&"id"!=e)return layer.msg(e+"不能为空"),!1;this.$http.post(this.$api.addAddress,{address:this.currentAddress}).then(function(e){(e.status=200)&&(a.user.addresses=e.addresses,t("#addressModal").modal("hide"))})},deleteAddress:function(t){var a=this;layer.confirm("是否删除该地址",{icon:3},function(e){a.$http.post(a.$api.deleteAddress,{id:t}).then(function(t){200==t.status&&(a.user.addresses=t.addresses),layer.close(e)})})},changeCartItems:function(t){var a=-1==this.currentCartItems.indexOf(t)?this.currentCartItems.push(t):this.currentCartItems.splice(a,1);console.log(this.currentCartItems)},Settlement:function(){this.currentCartItems.length?t("#cartModal").modal("show"):layer.msg("请选择需要购买的物品")},changeCartAddress:function(t){this.cartAddress=JSON.parse(i()(t))},pay:function(){var a=this;""==!this.cartAddress?this.$http.post(this.$api.setOrder,{cartItems:this.currentCartItems,address:this.cartAddress.id}).then(function(e){200==e.status&&(a.currentCartItems=[],a.user.orders=e.orders,a.user.cart_items=e.cartItems,t("#cartModal").modal("hide"))}):layer.msg("请选择收货地址")},getAuth:function(){var t=this;this.$http.post(this.$api.getAuth).then(function(a){200==a.status&&(localStorage.user=i()(a.user),t.$store.commit("setUser"))})},updateUserData:function(){var t=this;for(var a in this.currentEyesData)if(""==String(this.currentEyesData[a]).trim())return layer.msg(a+"不能为空"),!1;delete this.currentEyesData.id,this.$http.post(this.$api.updateUserData,{name:this.currentName,eyesData:this.currentEyesData}).then(function(a){200==a.status&&(t.user.name=a.name,console.log(t.user.name),t.user.eyesData=a.eyesData,t.getAuth(),layer.msg("更新成功",{icon:1}))})},upload:function(){this.getAuth(),t(".uploadModal").modal("hide")},deleteCartItems:function(){var t=this;this.currentCartItems.length?layer.open({content:"确定删除勾选购物车?",yes:function(){t.$http.post(t.$api.deleteCartItems,{cartItems:t.currentCartItems}).then(function(a){200==a.status&&(t.user.cart_items=a.cartItems)})}}):layer.msg("请选择需要删除的购物车")},changePassword:function(){if(""==this.currentPassword.trim())return layer.msg("当前密码不能为空");""==this.newPassword.trim()&&layer.msg("新密码不能为空"),this.$http.post(this.$api.changePassword,{currentPassword:this.currentPassword.trim(),newPassword:this.newPassword.trim()}).then(function(a){200==a.status&&t("#passwordModalLong").modal("hide")})}},mounted:function(){var t=this;this.tabName=this.frist_tabs[0].name,this.active=this.frist_tabs[0].info+"0",this.$http.post(this.$api.getRelevance).then(function(a){200==a.status&&(t.user=a.user,t.currentName=a.user.name,console.log(a.user.eyes_data),a.user.eyes_data&&(t.currentEyesData=a.user.eyes_data),console.log(t.user))})},computed:{ItemsPrice:function(){var t=0;return this.currentCartItems.forEach(function(a){t+=parseFloat(a.product_sku.price)*parseFloat(a.amount)}),t},userImage:function(){return this.$store.getters.userData.user.image}},components:{"tab-content":{template:"<div><slot :name='tabName'></slot></div>",props:["tabName"]},cropperComponent:r.a}}}).call(a,e("4kSj"))},HiTr:function(t,a){},M9AG:function(t,a,e){"use strict";(function(t){var a,s,i,r,n=e("fZjL"),o=e.n(n),l=e("pFYg"),c=e.n(l);a=t,s=function(t,e){return void 0===t||null===t||void 0===t||t==[]||""===t||e&&""===a.trim(t)},i=function(t,a,e){var i=s(t.data(a))?t.attr(a):t.data(a);return i||e[a]},(r=function(t,e){this.$element=a(t),this.init(e)}).prototype={constructor:r,_parseAttr:function(t,a){var e=this.$element;if("range"===e.attr("type")||"number"===e.attr("type")){var r=i(e,t,a),n=.5;"min"===t?n=0:"max"===t?n=5:"step"===t&&(n=.5);var o=s(r)?n:r;return parseFloat(o)}return parseFloat(a[t])},listen:function(){var t=this;t.$rating.on("click",function(a){t.inactive||(w=a.pageX-t.$rating.offset().left,t.setStars(w),t.$element.trigger("change"),t.$element.trigger("rating.change",[t.$element.val(),t.$caption.html()]))}),t.$clear.on("click",function(){t.inactive||t.clear()}),a(t.$element[0].form).on("reset",function(){t.inactive||t.reset()})},initSlider:function(t){var a=this;s(a.$element.val())&&a.$element.val(0),a.initialValue=a.$element.val(),a.min=void 0!==t.min?t.min:a._parseAttr("min",t),a.max=void 0!==t.max?t.max:a._parseAttr("max",t),a.step=void 0!==t.step?t.step:a._parseAttr("step",t),(isNaN(a.min)||s(a.min))&&(a.min=0),(isNaN(a.max)||s(a.max))&&(a.max=5),(isNaN(a.step)||s(a.step)||0==a.step)&&(a.step=.5),a.diff=a.max-a.min},init:function(t){var e=this;e.options=t,e.initSlider(t),e.checkDisabled(),$element=e.$element,e.containerClass=t.containerClass,e.glyphicon=t.glyphicon;var i=e.glyphicon?"":"★";e.symbol=s(t.symbol)?i:t.symbol,e.rtl=t.rtl||e.$element.attr("dir"),e.rtl&&e.$element.attr("dir","rtl"),e.showClear=t.showClear,e.showCaption=t.showCaption,e.size=t.size,e.stars=t.stars,e.defaultCaption=t.defaultCaption,e.starCaptions=t.starCaptions,e.starCaptionClasses=t.starCaptionClasses,e.clearButton=t.clearButton,e.clearButtonTitle=t.clearButtonTitle,e.clearButtonBaseClass=s(t.clearButtonBaseClass)?"clear-rating":t.clearButtonBaseClass,e.clearButtonActiveClass=s(t.clearButtonActiveClass)?"clear-rating-active":t.clearButtonActiveClass,e.clearCaption=t.clearCaption,e.clearCaptionClass=t.clearCaptionClass,e.clearValue=t.clearValue,e.$element.removeClass("form-control").addClass("form-control"),e.$clearElement=s(t.clearElement)?null:a(t.clearElement),e.$captionElement=s(t.captionElement)?null:a(t.captionElement),void 0===e.$rating&&void 0===e.$container&&(e.$rating=a(document.createElement("div")).html('<div class="rating-stars"></div>'),e.$container=a(document.createElement("div")),e.$container.before(e.$rating),e.$container.append(e.$rating),e.$element.before(e.$container).appendTo(e.$rating)),e.$stars=e.$rating.find(".rating-stars"),e.generateRating(),e.$clear=s(e.$clearElement)?e.$container.find("."+e.clearButtonBaseClass):e.$clearElement,e.$caption=s(e.$captionElement)?e.$container.find(".caption"):e.$captionElement,e.setStars(),e.$element.hide(),e.listen(),e.showClear&&e.$clear.attr({class:e.getClearClass()})},checkDisabled:function(){var t=this;t.disabled=i(t.$element,"disabled",t.options),t.readonly=i(t.$element,"readonly",t.options),t.inactive=t.disabled||t.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var t=this,a=t.renderClear(),e=t.renderCaption(),i=t.rtl?"rating-container-rtl":"rating-container",r=t.getStars();i+=t.glyphicon?""==t.symbol?" rating-gly-star":" rating-gly":" rating-uni",t.$rating.attr("class",i),t.$rating.attr("data-content",r),t.$stars.attr("data-content",r),i=t.rtl?"star-rating-rtl":"star-rating",t.$container.attr("class",i+" rating-"+t.size),t.inactive?t.$container.removeClass("rating-active").addClass("rating-disabled"):t.$container.removeClass("rating-disabled").addClass("rating-active"),void 0===t.$caption&&void 0===t.$clear&&(t.rtl?t.$container.prepend(e).append(a):t.$container.prepend(a).append(e)),s(t.containerClass)||t.$container.removeClass(t.containerClass).addClass(t.containerClass)},getStars:function(){for(var t=this.stars,a="",e=1;t>=e;e++)a+=this.symbol;return a},renderClear:function(){var t=this;if(!t.showClear)return"";var a=t.getClearClass();return s(t.$clearElement)?'<div class="'+a+'" title="'+t.clearButtonTitle+'">'+t.clearButton+"</div>":(t.$clearElement.removeClass(a).addClass(a).attr({title:t.clearButtonTitle}),t.$clearElement.html(t.clearButton),"")},renderCaption:function(){var t=this,a=t.$element.val();if(!t.showCaption)return"";var e=t.fetchCaption(a);return s(t.$captionElement)?'<div class="caption">'+e+"</div>":(t.$captionElement.removeClass("caption").addClass("caption").attr({title:t.clearCaption}),t.$captionElement.html(e),"")},fetchCaption:function(t){var a=this,e=parseFloat(t),i=s(a.starCaptionClasses[e])?a.clearCaptionClass:a.starCaptionClasses[e],r=s(a.starCaptions[e])?a.defaultCaption.replace(/\{rating\}/g,e):a.starCaptions[e];return'<span class="'+i+'">'+(e==a.clearValue?a.clearCaption:r)+"</span>"},getValueFromPosition:function(t){var a,e,s=this,i=function(t){var a=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0}(s.step);return a=t/s.$rating.width(),(e=s.min+Math.ceil(s.diff*a/s.step)*s.step)<s.min?e=s.min:e>s.max&&(e=s.max),e=function(t,a){return parseFloat(t.toFixed(a))}(parseFloat(e),i),s.rtl&&(e=s.max-e),e},setStars:function(t){var a=this,e=a.min,i=a.max,r=(a.step,arguments.length?a.getValueFromPosition(t):s(a.$element.val())?0:a.$element.val()),n=0,o=(a.$rating.width(),a.fetchCaption(r));n=(r-e)/i*100,a.rtl&&(n=100-n),a.$element.val(r),n+="%",a.$stars.css("width",n),a.$caption.html(o)},clear:function(){var t=this,a='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";t.$stars.removeClass("rated"),t.inactive||t.$caption.html(a),t.$element.val(t.clearValue),t.setStars(),t.$element.trigger("rating.clear")},reset:function(){var t=this;t.$element.val(t.initialValue),t.setStars(),t.$element.trigger("rating.reset")},update:function(t){arguments.length>0&&(this.$element.val(t),this.setStars())},refresh:function(t){var e=this;arguments.length&&(e.init(a.extend(e.options,t)),e.showClear?e.$clear.show():e.$clear.hide(),e.showCaption?e.$caption.show():e.$caption.hide())}},a.fn.rating=function(t){var e=Array.apply(null,arguments);return e.shift(),this.each(function(){var s=a(this),i=s.data("rating"),n="object"==(void 0===t?"undefined":c()(t))&&t;i||s.data("rating",i=new r(this,a.extend({},a.fn.rating.defaults,n,a(this).data()))),"string"==typeof t&&i[t].apply(i,e)})},a.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:0,captionElement:null,clearElement:null,containerClass:null},a(document).ready(function(){var t=a("input.rating");o()(t).length>0&&t.rating()})}).call(a,e("4kSj"))},MzTR:function(t,a,e){t.exports=e.p+"static/img/slider2.8a34ef7.jpg"},N1kN:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var r=e("VU/8")({name:"App"},i,!1,function(t){e("pIzz")},null,null).exports,n=e("/ocq"),o={data:function(){return{products:[],amount:16,carousels:[{url:e("rtkI"),id:1},{url:e("MzTR"),id:2},{url:e("wp/7"),id:3}]}},mounted:function(){this.getHotProducts()},methods:{getHotProducts:function(){var t=this;this.$http.post(this.$api.getHotProducts,{amount:this.amount}).then(function(a){200==a.status&&(t.products=a.products,console.log(t.products))})}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("headTop"),t._v(" "),e("searchTop"),t._v(" "),e("pageNav"),t._v(" "),e("div",{staticClass:"Carousel"},[e("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleCaptions","data-ride":"carousel"}},[e("ol",{staticClass:"carousel-indicators"},[t._l(t.carousels,function(t,a){return e("li",{key:a,class:{active:0==a},attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}})}),t._v(" "),e("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),t._v(" "),e("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})],2),t._v(" "),e("div",{staticClass:"container-xl"},[e("div",{staticClass:"carousel-inner"},t._l(t.carousels,function(a,s){return e("div",{key:s,class:["carousel-item",{active:0==s}],on:{click:function(e){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[e("img",{staticClass:"d-block h-100",attrs:{src:a.url,alt:"..."}}),t._v(" "),t._m(0,!0)])}),0)]),t._v(" "),t._m(1),t._v(" "),t._m(2)])]),t._v(" "),e("div",{staticClass:"hot"},[e("div",{staticClass:"container-xl",staticStyle:{"text-align":"left"}},[e("div",{staticClass:"tittle"},[t._v("热销产品")]),t._v(" "),e("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #e5e5e5","margin-top":"10px","margin-bottom":"40px"}}),t._v(" "),e("div",{staticClass:"cardList"},t._l(t.products,function(a,s){return e("div",{key:s,staticClass:"card",on:{click:function(e){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[e("div",{staticClass:"imagBox"},[e("img",{staticClass:"card-img-top",attrs:{src:t.$url+a.image}})]),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"title",staticStyle:{"font-size":"16px",height:"40px",overflow:"hidden"}},[t._v(t._s(a.title))]),t._v(" "),e("p",{staticStyle:{"font-size":"12px",color:"#a8a9a9",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[t._v(t._s(a.description))]),t._v(" "),e("p",{staticClass:"card-text",staticStyle:{"margin-bottom":"5px"}},t._l(a.sku,function(a,s){return e("span",{key:s,staticClass:"badge badge-secondary",staticStyle:{"margin-right":"10px"}},[e("small",[t._v(t._s(a.title))])])}),0)]),t._v(" "),e("div",{staticClass:"card-footer"},[e("p",{staticClass:"card-text float-left"},[t._v("\n                价格:\n                "),e("span",{staticStyle:{color:"#fe6200"}},[t._v("￥"+t._s(a.sku.length?a.sku[0].price:66))])]),t._v(" "),e("p",{staticClass:"card-text float-right",staticStyle:{"margin-left":"30px"}},[t._v("\n                销量:\n                "),e("span",{staticStyle:{color:"red"}},[t._v(t._s(a.items_count))])])])])}),0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"carousel-caption d-none d-md-block"},[a("h5",[this._v("First slide label")]),this._v(" "),a("p",[this._v("Nulla vitae elit libero, a pharetra augue mollis interdum.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Previous")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Next")])])}]};var c=e("VU/8")(o,l,!1,function(t){e("jF4U")},"data-v-43b5369e",null).exports,u=e("unXG"),d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("headTop"),t._v(" "),e("div",{staticClass:"top-content"},[e("div",{staticClass:"inner-bg"},[e("div",{staticClass:"container"},[1==t.formState?e("div",{staticClass:"row"},[t._m(0)]):t._e(),t._v(" "),1==t.formState?e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-6 col-sm-offset-3 form-box"},[e("div",{staticClass:"form-top"},[t._m(1),t._v(" "),e("div",{staticClass:"form-top-right"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",id:"signUpBtn"},on:{click:function(a){return t.changeForm(0)}}},[t._v("注 册")])])]),t._v(" "),e("div",{staticClass:"form-bottom"},[e("form",{staticClass:"signUpform",attrs:{role:"form",action:"",method:"post"}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLogin.email,expression:"userLogin.email"}],staticClass:"form-email form-control",attrs:{type:"text",name:"form-email",placeholder:"邮箱",id:"form-email"},domProps:{value:t.userLogin.email},on:{input:function(a){a.target.composing||t.$set(t.userLogin,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userLogin.password,expression:"userLogin.password"}],staticClass:"form-password form-control",attrs:{type:"password",name:"form-password",placeholder:"密码",id:"form-password"},domProps:{value:t.userLogin.password},on:{input:function(a){a.target.composing||t.$set(t.userLogin,"password",a.target.value)}}})]),t._v(" "),e("a",{staticClass:"btn",attrs:{id:"loginBtn"},on:{click:function(a){return t.login()}}},[t._v("登 录")])])])])]):e("div",{staticClass:"row",attrs:{id:"sinUpFrom"}},[e("div",{staticClass:"col-sm-6 col-sm-offset-3 form-box"},[e("div",{staticClass:"form-top"},[t._m(2),t._v(" "),e("div",{staticClass:"form-top-right"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",id:"signUpBtn"},on:{click:function(a){return t.changeForm(1)}}},[t._v("返回登录")])])]),t._v(" "),e("div",{staticClass:"form-bottom"},[e("form",{staticClass:"signUp-form",attrs:{role:"form",action:"",method:"post"}},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.name,expression:"userRegister.name"}],staticClass:"form-username form-control",attrs:{type:"text",name:"form-username",placeholder:"用户名",id:"form-username"},domProps:{value:t.userRegister.name},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.password,expression:"userRegister.password"}],staticClass:"form-password form-control",attrs:{type:"password",name:"form-password",placeholder:"密码（6-16个字符组成，区分大小写）",id:"form-password"},domProps:{value:t.userRegister.password},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"password",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.email,expression:"userRegister.email"}],staticClass:"form-password form-control",attrs:{type:"text",name:"form-password",placeholder:"填写常用邮箱 ",id:"form-password"},domProps:{value:t.userRegister.email},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"email",a.target.value)}}})]),t._v(" "),e("a",{staticClass:"btn",attrs:{id:"loginBtn"},on:{click:function(a){return t.register()}}},[t._v("注 册")])])])])]),t._v(" "),t._m(3)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-8 col-sm-offset-2 text",staticStyle:{"text-align":"center"}},[a("h1",[a("strong",[this._v("Login Form")])]),this._v(" "),a("div",{staticClass:"description"},[a("p",[this._v("\n                Welcome\n                "),a("a",{attrs:{href:"#"}})])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-top-left"},[a("h3",[this._v("登陆我们的网站")]),this._v(" "),a("p",[this._v("输入您的邮箱和密码登录我们的网站")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-top-left"},[a("h3",[this._v("注册成为我们的用户")]),this._v(" "),a("p",[this._v("输入您的账户信息以创建新的账户")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-sm-offset-3 social-login"},[a("h3",[this._v("...or login with:")]),this._v(" "),a("div",{staticClass:"social-login-buttons",staticStyle:{"text-align":"center"}},[a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-facebook"}),this._v(" Facebook\n              ")]),this._v(" "),a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-twitter"}),this._v(" Twitter\n              ")]),this._v(" "),a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-google-plus"}),this._v(" Google Plus\n              ")])])])])}]};var p=function(t){e("Qg3l")},v=e("VU/8")(u.a,d,!1,p,"data-v-0e62e074",null).exports,m={mounted:function(){this.getProducts(),this.getHotProducts()},data:function(){return{products:[],hotProducts:[],isLoding:1,currentPage:1,pageStep:8,amount:5,productType:[{name:"全部",value:null},{name:"镜架",value:"App\\Models\\Frame"},{name:"镜片",value:"App\\Models\\Lens"}],productBrand:["品牌1","品牌2","品牌3","品牌4"]}},methods:{getProducts:function(){var t=this;this.$http.get(this.$api.getProducts).then(function(a){200==a.status&&(t.$store.commit("setProducts",a.products),t.products=t.Products)})},getHotProducts:function(){var t=this;this.$http.post(this.$api.getHotProducts,{amount:this.amount}).then(function(a){200==a.status&&(t.hotProducts=a.products,console.log(t.hotProducts))})},changePage:function(t){this.currentPage=t},changeType:function(t){this.$store.state.currentProduct=t,this.products=this.Products,this.currentPage=1,console.log(this.Products)},changeBrand:function(t){this.$store.state.currentBrand=t,this.products=this.Products,this.currentPage=1,console.log(this.Products)},link:function(t){this.$router.push({path:"/shop/"+t})}},computed:{pageNum:function(){return this.products.length>this.pageStep?Math.floor(this.products.length/this.pageStep)+1:1},currentBrand:function(){return this.$store.state.currentBrand},currentProduct:function(){return this.$store.state.currentProduct},Products:function(){return this.$store.getters.selectProducts}}},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("headTop"),t._v(" "),e("searchTop"),t._v(" "),e("pageNav"),t._v(" "),e("div",{staticClass:"container-xl"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-9"},[t._l(t.products,function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:s>=(t.currentPage-1)*t.pageStep&&s<t.currentPage*t.pageStep,expression:"index>=(currentPage-1)*pageStep&&index<currentPage*pageStep"}],key:s,staticClass:"productBox"},[e("div",[e("div",{staticClass:"productImage"},[e("a",[e("img",{staticStyle:{width:"100%"},attrs:{src:t.$url+a.image}})])]),t._v(" "),e("div",{staticClass:"description"},[e("p",{staticStyle:{"font-size":"16px","line-height":"22px",color:"#484848","text-align":"left","margin-top":"25px"},attrs:{title:a.title}},[t._v(t._s(a.title))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px","line-height":"12px",color:"#919191"}},[t._v(t._s(a.description))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px","line-height":"24px",color:"#1f9316"}},[t._v("销售状态："+t._s(a.on_sale?"可售":""))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px","line-height":"26px",color:"#919191"}},[t._v("\n                商品选项：\n                "),t._l(a.sku,function(a,s){return e("span",{key:s,staticClass:"badge badge-secondary",staticStyle:{"margin-right":"5px"}},[t._v(t._s(a.description))])})],2)]),t._v(" "),e("div",{staticClass:"operation"},[e("p",{staticClass:"advicePrice"},[t._v("¥ "+t._s(a.sku.length?a.sku[0].price:66))]),t._v(" "),e("div",{staticClass:"btn"},[e("button",{staticClass:"btn btn-primary details",attrs:{type:"button"}},[e("span",{on:{click:function(e){return t.link(a.id)}}},[t._v("查看详情")])])])])])])}),t._v(" "),e("nav",{attrs:{"aria-label":"Page navigation"}},[e("span",{staticStyle:{"line-height":"38px","margin-left":"30px"}},[t._v("第"+t._s(t.currentPage)+"页，共"+t._s(t.pageNum)+"页")]),t._v(" "),e("ul",{staticClass:"pagination float-right"},[e("li",{class:{"page-item":!0,disabled:1==t.currentPage},on:{click:function(a){1!=t.currentPage&&(t.currentPage-=1)}}},[e("span",{staticClass:"page-link"},[t._v("Previous")])]),t._v(" "),t._l(t.pageNum,function(a){return e("li",{key:a,staticClass:"page-item"},[e("span",{class:{"page-link":!0,active:a==t.currentPage},on:{click:function(e){return t.changePage(a)}}},[t._v(t._s(a))])])}),t._v(" "),e("li",{class:{"page-item":!0,disabled:t.currentPage==t.pageNum},on:{click:function(a){t.currentPage!=t.pageNum&&(t.currentPage+=1)}}},[e("a",{staticClass:"page-link"},[t._v("Next")])])],2)])],2),t._v(" "),e("div",{staticClass:"col-3"},[e("div",{attrs:{id:"rightColumn","data-children":".item"}},[e("div",{staticClass:"item"},[e("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn1","aria-expanded":"true","aria-controls":"rightColumn1"}},[t._v("分类")]),t._v(" "),e("div",{staticClass:"collapse show",attrs:{id:"rightColumn1",role:"tabpanel"}},[e("ul",t._l(t.productType,function(a,s){return e("li",{key:s},[e("span",{class:{active:a.value==t.currentProduct},on:{click:function(e){return t.changeType(a.value)}}},[e("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    "+t._s(a.name)+"\n                  ")])])}),0)])]),t._v(" "),e("div",{staticClass:"item"},[e("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn2","aria-expanded":"false","aria-controls":"rightColumn2"}},[t._v("品牌")]),t._v(" "),e("div",{staticClass:"collapse",attrs:{id:"rightColumn2",role:"tabpanel"}},[e("ul",[e("li",[e("span",{class:{active:null==t.currentBrand},on:{click:function(a){return t.changeBrand(null)}}},[e("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    全部\n                  ")])]),t._v(" "),t._l(t.productBrand,function(a,s){return e("li",{key:s},[e("span",{class:{active:s==t.currentBrand},on:{click:function(a){return t.changeBrand(s)}}},[e("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    "+t._s(a)+"\n                  ")])])})],2)])]),t._v(" "),e("div",{staticClass:"item"},[e("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn3","aria-expanded":"true","aria-controls":"rightColumn3"}},[t._v("热销商品")]),t._v(" "),e("div",{staticClass:"collapse show",attrs:{id:"rightColumn3",role:"tabpanel"}},[e("ul",t._l(t.hotProducts,function(a,s){return e("li",{key:s,on:{click:function(e){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[e("div",{staticClass:"hotSale"},[e("div",{staticClass:"hotImage"},[e("a",[e("img",{attrs:{src:t.$url+a.image,width:"100%"}})])]),t._v(" "),e("div",{staticClass:"hotDescription"},[e("p",{staticClass:"hotTitle"},[t._v(t._s(a.title))]),t._v(" "),e("p",{staticClass:"hotPrice",staticStyle:{color:"#fe6200"}},[t._v("￥ "+t._s(a.sku.length?a.sku[0].price:66))])])])])}),0)])])])])])])],1)},staticRenderFns:[]};var h=e("VU/8")(m,g,!1,function(t){e("j4iE")},"data-v-4f193036",null).exports,f={name:"MyRate",props:{score:{type:Number,default:0},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1}},data:function(){return{curScore:"",decimal:""}},created:function(){this.getDecimal()},methods:{getClass:function(t){return""===this.curScore?t<=this.score?"fa-star":t-this.score<1?"fa-star-half-o":"fa-star":t<=this.curScore?"fa-star":"fa-star-o"},getDecimal:function(){this.decimal=Number(100*this.score-100*Math.floor(this.score))},setScore:function(t){this.$emit("update:score",t)}}},_={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"rate",class:{disabled:t.disabled}},[t._l(5,function(a){return e("i",{staticClass:"fa",class:t.getClass(a),on:{mouseenter:function(e){!t.disabled&&(t.curScore=a)},mouseleave:function(a){!t.disabled&&(t.curScore="")},click:function(e){!t.disabled&&t.setScore(a)}}})}),t._v(" "),t.showText?e("span",{staticClass:"text"},[t._v(t._s(t.curScore||t.score)+"分")]):t._e()],2)},staticRenderFns:[]};var C={mounted:function(){this.getproduct()},data:function(){return{product:{},currentSku:0,amount:1,parameters:{brand:"品牌",type:"类型",transmittance:"折射系数",refraction:"折射",weight:"重量",membrane:"膜",spherical:"球面",texture:"材质",country:"国家"},values:{brand:{ZEISS:"蔡司",Essilor:"依视路",HOYA:"豪雅",Rodenstock:"罗敦司得",Seiko:"精工",Shamir:"沙米尔",Chemilens:"凯米",Younger:"雅歌",Transitions:"全视线",Kodak:"柯达",Nikon:"尼康",Asahi:"朝日",TOKAI:"东海",WX:"万新",Conant:"康耐特",Mingyue:"明月",Norville:"诺威尔",ITOH:"伊藤",Nidek:"尼德克"},type:["单光镜片","渐进镜片","防蓝光镜片","太阳镜片","偏光镜片","运动镜片","变色镜片","染色镜片","定制镜片","成长乐镜片","驾驶型镜片","数码型镜片","菁悦活力镜片"],country:["中国","德国","日本","美国","以色列","法国","韩国","英国"],texture:["树脂","玻璃","PC","Trilogy"],spherical:["非球面","球面"]}}},methods:{changeSku:function(t){this.currentSku=t},addToCart:function(){this.$http.post(this.$api.addToCart,{skuId:this.product.sku[this.currentSku].id,amount:this.amount})},getproduct:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$route.params.productId;this.$http.post(this.$api.getProduct,{productId:a}).then(function(a){console.log(a.product),t.product=a.product,console.log(a.product)})}},computed:{price:function(){return this.product.sku[this.currentSku].price}},components:{rate:e("VU/8")(f,_,!1,function(t){e("HiTr")},null,null).exports},beforeRouteUpdate:function(t,a,e){alert(t.params.productId),this.getproduct(t.params.productId)}},b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("headTop"),t._v(" "),e("searchTop"),t._v(" "),e("pageNav"),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"container-xl"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("div",{staticClass:"productImage"},[e("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"images"},[e("div",{staticClass:"imageBox col-4"},t._l(t.product.productable.images,function(a,s){return e("img",{key:s,staticStyle:{width:"100%",display:"block"},attrs:{src:t.$url+a.image_url}})}),0)])])]),t._v(" "),e("div",{staticClass:"col-6"},[e("div",{staticClass:"producDetail"},[e("h4",[t._v(t._s(t.product.title))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px","line-height":"12px",color:"#919191"}},[t._v(t._s(t.product.description))]),t._v(" "),e("div",{staticClass:"tagBox"},[e("div",{staticClass:"appraise float-left"},[e("i",{staticClass:"fa fa-cart-arrow-down",staticStyle:{color:"white"}},[t._v(" "+t._s(t.product.items.length))])])]),t._v(" "),e("div",{staticClass:"productPrice"},[t._v("¥"+t._s(t.price))]),t._v(" "),e("div",{staticClass:"dropdownBox"},[e("div",[t._v("\n                选  项：\n                "),e("div",{staticClass:"dropdown"},[e("a",{staticClass:"btn btn-secondary dropdown-toggle refractivity",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.product.sku[t.currentSku].description))]),t._v(" "),e("div",{staticClass:"dropdown-menu"},t._l(t.product.sku,function(a,s){return e("a",{key:s,staticClass:"dropdown-item",on:{click:function(a){return t.changeSku(s)}}},[t._v(t._s(a.description))])}),0)])])]),t._v(" "),e("div",{staticClass:"number"},[e("p",{staticClass:"float-left"},[t._v("数   量：")]),t._v(" "),e("div",{staticClass:"input-group input-group-sm mb-3",staticStyle:{width:"80px","padding-top":"5px"}},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:1==t.amount},on:{click:function(a){t.amount--}}},[t._v("-")])]),t._v(" "),e("input",{staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"text",placeholder:"","aria-describedby":"basic-addon1",disabled:""},domProps:{value:t.amount}}),t._v(" "),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(a){t.amount++}}},[t._v("+")])])])]),t._v(" "),e("div",{staticClass:"commit"},[e("button",{staticClass:"commitBtn btn btn-danger btn-lg rounded-pill",attrs:{type:"button"},on:{click:function(a){return t.addToCart()}}},[t._v("添加购物车")])])])])])])]),t._v(" "),e("div",{staticClass:"productDetail"},[t._m(0),t._v(" "),e("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-delailValue",role:"tabpanel"}},[e("div",{staticClass:"container-xl detilTable"},[e("div",{staticClass:"row"},[t._l(t.product.productable,function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.parameters[s],expression:"parameters[index]!=undefined"}],key:s,staticClass:"col-3"},[t._v(t._s(t.parameters[s]+"："+(t.values.hasOwnProperty(s)?t.values[s][a]:a)))])}),t._v(" "),e("div",{staticClass:"col-3"})],2)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("nav",[a("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[a("a",{staticClass:"nav-item nav-link active",attrs:{id:"nav-delailValue-tab","data-toggle":"tab",href:"#nav-delailValue",role:"tab","aria-controls":"nav-delailValue","aria-selected":"true"}},[this._v("参数")])])])}]};var y=e("VU/8")(C,b,!1,function(t){e("sdcZ")},"data-v-3766eb12",null).exports,x=e("GWQt"),w={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("headTop"),t._v(" "),e("searchTop"),t._v(" "),e("pageNav"),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:""==!t.user,expression:"!user==''"}],staticClass:"userUi"},[e("div",{staticClass:"container-xl"},[e("div",[e("div",{staticClass:"leftClomn"},[t._m(0),t._v(" "),e("div",{staticClass:"imageBox"},[e("img",{staticClass:"userImage rounded-circle",attrs:{src:t.$url+t.userImage.image_url}}),t._v(" "),e("div",{attrs:{calss:"name"}},[e("p",{staticStyle:{"font-size":"22px","margin-top":"5px"}},[t._v(t._s(t.user.name))]),t._v(" "),e("p",{staticStyle:{"margin-top":"-10px"}},[t._v("普通用户")])])]),t._v(" "),e("div",{staticClass:"menus"},[e("div",{attrs:{id:"exampleAccordion","data-children":".menu"}},t._l(t.frist_tabs,function(a,s){return e("div",{key:s,staticClass:"menu"},[e("div",{staticClass:"menuTitle",attrs:{href:"#"+a.info+"tab","data-toggle":"collapse","data-parent":"#exampleAccordion"}},[t._v(t._s(a.name))]),t._v(" "),t._l(a.second_tabs,function(s,i){return e("div",{key:i,staticClass:"tabs collapse show",attrs:{id:a.info+"tab",role:"tabpanel",name:a.info+i==t.active?"active":""},on:{click:function(e){return t.tabChange(a.info+i,s)}}},[t._v(t._s(s))])})],2)}),0)])]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"tittle"},[e("p",[t._v(t._s(t.tabName))])]),t._v(" "),e("div",{staticClass:"tab-content"},[e("tab-content",{attrs:{tabName:t.active}},[e("div",{staticClass:"myMessage0",attrs:{slot:"myMessage0"},slot:"myMessage0"},[e("div",{staticClass:"input-group input-group-sm name"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("昵称")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentName},on:{input:function(a){a.target.composing||(t.currentName=a.target.value)}}})]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"eyes_data"},[e("div",{staticClass:"input-group input-group-sm eyesDataStatus"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("近视远视情况")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.status,expression:"currentEyesData.status"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.status},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"status",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm eyesDataVision"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("视力")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.left,expression:"currentEyesData.left"}],staticClass:"form-control",attrs:{type:"text",placeholder:"左眼度数"},domProps:{value:t.currentEyesData.left},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"left",a.target.value)}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.right,expression:"currentEyesData.right"}],staticClass:"form-control",attrs:{type:"text",placeholder:"右眼度数"},domProps:{value:t.currentEyesData.right},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"right",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm eyesDataOther"},[e("div",{staticClass:"input-group-prepend pd"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("瞳距")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.pd,expression:"currentEyesData.pd"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.pd},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"pd",a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-prepend axis"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("轴度")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.axis,expression:"currentEyesData.axis"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.axis},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"axis",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm eyesDataVisualAcuity"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("矫正视力")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.visual_acuity,expression:"currentEyesData.visual_acuity"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.visual_acuity},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"visual_acuity",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm eyesDatacylinder"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("散光")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.cylinder,expression:"currentEyesData.cylinder"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.cylinder},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"cylinder",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"input-group input-group-sm checkBox"}),t._v(" "),e("div",{staticClass:"save",staticStyle:{display:"block"}},[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(a){return t.updateUserData()}}},[t._v("保存")])])]),t._v(" "),e("div",{staticClass:"myMessage1",attrs:{slot:"myMessage1"},slot:"myMessage1"},[e("div",{staticClass:"ImageBox"},[e("img",{staticClass:"userImage rounded-circle",attrs:{src:t.$url+t.userImage.image_url}})]),t._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":".bd-example-modal-lg"}},[t._v("更换头像")]),t._v(" "),e("div",{staticClass:"modal fade bd-example-modal-lg uploadModal",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content uploadImg"},[e("cropperComponent",{on:{upload:function(a){return t.upload()}}})],1)])]),t._v(" "),e("ul",{staticClass:"userSave"},[e("li",[e("div",[e("p",{staticClass:"optionName"},[t._v("密码")]),t._v(" "),e("a",{staticClass:"operation",attrs:{type:"button","data-toggle":"modal","data-target":"#passwordModalLong"}},[t._v("修改密码")])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"passwordModalLong",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("密码修改")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"input-group input-group-sm mb-3"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("当前密码")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPassword,expression:"currentPassword"}],staticClass:"form-control",attrs:{type:"password","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.currentPassword},on:{input:function(a){a.target.composing||(t.currentPassword=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm mb-3"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("新密码")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.newPassword},on:{input:function(a){a.target.composing||(t.newPassword=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.changePassword()}}},[t._v("更改密码")])])])])])]),t._v(" "),e("div",{staticClass:"addressTable",attrs:{slot:"myMessage2"},slot:"myMessage2"},[e("div",{staticClass:"addresses"},[e("ul",{staticClass:"addressList"},[e("li",{staticClass:"listHead"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[t._v("地址")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("联系方式")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("收件人")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("操作")])])]),t._v(" "),t._l(t.user.addresses,function(a,s){return e("li",{key:s,staticClass:"address"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[t._v(t._s(a.address))]),t._v(" "),e("div",{staticClass:"col-2"},[t._v(t._s(a.contact_phone))]),t._v(" "),e("div",{staticClass:"col-2"},[t._v(t._s(a.contact_name))]),t._v(" "),e("div",{staticClass:"col-2"},[e("a",{staticClass:"operation",staticStyle:{"margin-right":"15px"},attrs:{"data-toggle":"modal","data-target":"#addressModal"},on:{click:function(e){return t.modelOpen(a)}}},[t._v("修改")]),t._v(" "),e("a",{staticClass:"operation",attrs:{id:"delete"},on:{click:function(e){return t.deleteAddress(a.id)}}},[t._v("删除")])])])])})],2)]),t._v(" "),e("div",{staticClass:"footer"},[e("div",{staticClass:"btn btn-danger",attrs:{"data-toggle":"modal","data-target":"#addressModal"},on:{click:function(a){return t.modelOpen(null)}}},[t._v("添加地址")])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"addressModal",tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"addressModalTitle"}},[t._v("添加地址")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"200px","margin-bottom":"20px"}},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("收件人")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.contact_name,expression:"currentAddress.contact_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.contact_name},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"contact_name",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"200px","margin-bottom":"20px"}},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("联系方式")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.contact_phone,expression:"currentAddress.contact_phone"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.contact_phone},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"contact_phone",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"input-group input-group-sm"},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("地址")])]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.address,expression:"currentAddress.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.address},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"address",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addAddress()}}},[t._v("保 存")])])])])])]),t._v(" "),e("div",{staticClass:"myOrder0",attrs:{slot:"myOrder0"},slot:"myOrder0"},[e("ul",{staticClass:"myOrders"},[e("li",{staticClass:"myOrdersTitle"},[e("div",{staticClass:"row",staticStyle:{"text-align":"center"}},[e("div",{staticClass:"col-6"},[t._v("商品")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("单价")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("数量")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("总价")])])]),t._v(" "),t._l(t.user.orders,function(a,s){return e("li",{key:s,staticClass:"order"},[e("div",{attrs:{id:"orderAccordion","data-children":".item"}},[e("div",{staticClass:"item",staticStyle:{width:"100%"}},[e("div",{staticClass:"orderTitle",attrs:{"data-toggle":"collapse","data-parent":"#orderAccordion",href:"#orderAccordion"+s,"aria-expanded":"true","aria-controls":"orderAccordion"+s}},[e("h6",{staticClass:"float-left",staticStyle:{"margin-left":"30px"}},[t._v("订单编号："+t._s(a.no))]),t._v(" "),e("h6",{staticClass:"float-right",staticStyle:{"margin-right":"30px","margin-left":"60px"}},[t._v("支付时间："+t._s(a.paid_at))]),t._v(" "),e("h6",{staticClass:"float-right",staticStyle:{"argin-right":"30px"}},[t._v("状态："+t._s(a.order_status))])]),t._v(" "),e("div",{staticClass:"collapse show",attrs:{id:"orderAccordion"+s,role:"tabpanel"}},[t._l(a.items,function(a,s){return e("div",{key:s,staticClass:"orderItem row"},[e("div",{staticClass:"col-6 productInfo"},[e("div",{staticClass:"productImg"},[e("img",{attrs:{src:t.$url+a.product.image}})]),t._v(" "),e("div",{staticClass:"description"},[e("div",{staticClass:"productName"},[e("p",[t._v(t._s(a.product.title))])]),t._v(" "),e("div",{staticClass:"sku"},[e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(a.product_sku.title))])])])]),t._v(" "),e("div",{staticClass:"col-2 price"},[t._v("￥"+t._s(a.price))]),t._v(" "),e("div",{staticClass:"col-2 number"},[t._v(t._s(a.amount))]),t._v(" "),e("div",{staticClass:"col-2 totlePrice price"},[t._v("￥"+t._s(a.price*a.amount))])])}),t._v(" "),e("div",{staticClass:"orderFooter"},[e("div",{staticClass:"addressInfo col-9"},[e("p",{staticClass:"orderAdress"},[t._v("收货地址："+t._s(a.address))])]),t._v(" "),e("div",{staticClass:"orderPrice col-3"},[t._v("\n                              总计：\n                              "),e("span",{staticStyle:{color:"rgb(255, 74, 74)"}},[t._v("￥"+t._s(a.total_amount))])])])],2)])])])})],2)]),t._v(" "),e("div",{staticClass:"myOrder1",attrs:{slot:"myOrder1"},slot:"myOrder1"},[e("ul",{staticClass:"cartItems"},[e("li",{staticClass:"myOrdersTitle"},[e("div",{staticClass:"row",staticStyle:{"text-align":"center"}},[e("div",{staticClass:"col-1"}),t._v(" "),e("div",{staticClass:"col-5"},[t._v("商品")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("单价")]),t._v(" "),e("div",{staticClass:"col-1"},[t._v("数量")]),t._v(" "),e("div",{staticClass:"col-2"},[t._v("总价")])])]),t._v(" "),t._l(t.user.cart_items,function(a,s){return e("li",{key:s,staticClass:"cartItem"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-1 checkClomn"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCartItems,expression:"currentCartItems"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.currentCartItems)?t._i(t.currentCartItems,a)>-1:t.currentCartItems},on:{change:function(e){var s=t.currentCartItems,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=a,o=t._i(s,n);i.checked?o<0&&(t.currentCartItems=s.concat([n])):o>-1&&(t.currentCartItems=s.slice(0,o).concat(s.slice(o+1)))}else t.currentCartItems=r}}})]),t._v(" "),e("div",{staticClass:"col-5 productInfo"},[e("div",{staticClass:"productImg"},[e("img",{attrs:{src:t.$url+a.product_sku.product.image}})]),t._v(" "),e("div",{staticClass:"description"},[e("div",{staticClass:"productName"},[e("p",[t._v(t._s(a.product_sku.product.title))])]),t._v(" "),e("span",{staticClass:"badge badge-secondary"},[t._v(t._s(a.product_sku.title))])])]),t._v(" "),e("div",{staticClass:"col-2 price"},[t._v("￥"+t._s(a.product_sku.price))]),t._v(" "),e("div",{staticClass:"col-1 number"},[t._v(t._s(a.amount))]),t._v(" "),e("div",{staticClass:"col-2 totlePrice price"},[t._v("￥"+t._s(a.amount*a.product_sku.price))])])])})],2),t._v(" "),e("div",{staticClass:"Settlement"},[e("button",{staticClass:"btn btn-danger float-md-right",attrs:{type:"button"},on:{click:function(a){return t.Settlement()}}},[t._v("结算 ￥"+t._s(t.ItemsPrice))]),t._v(" "),e("button",{staticClass:"btn btn-danger float-md-left",attrs:{type:"button"},on:{click:function(a){return t.deleteCartItems()}}},[t._v("删除")])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"cartModalLabel"}},[t._v("购物车")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[e("span",{staticStyle:{color:"#dc3545"}},[t._v(t._s(t.currentCartItems.length))]),t._v("条订单，共\n                          "),e("span",{staticStyle:{color:"#dc3545"}},[t._v(t._s(t.ItemsPrice))]),t._v("元\n                        ")]),t._v(" "),e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("选择地址")]),t._v(" "),e("div",{staticClass:"dropdown-menu addressDropdown",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.user.addresses,function(a,s){return e("a",{key:s,staticClass:"dropdown-item",on:{click:function(e){return t.changeCartAddress(a)}}},[e("p",[t._v(t._s(a.address))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"#99a2aa",float:"left","margin-right":"20px"}},[t._v("联系人："+t._s(a.contact_name))]),t._v(" "),e("p",{staticStyle:{"font-size":"14px",color:"#99a2aa",float:"left"}},[t._v("电话："+t._s(a.contact_phone))])])}),0)]),t._v(" "),e("div",{staticClass:"input-group addressInput",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("地址")])]),t._v(" "),e("input",{staticClass:"form-control col-6",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.address}}),t._v(" "),e("input",{staticClass:"form-control col-2",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.contact_name}}),t._v(" "),e("input",{staticClass:"form-control col-4",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.contact_phone}})])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.pay()}}},[t._v("确定支付")])])])])])])])],1)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tittle"},[a("p",[this._v("个人中心")])])}]};var $=function(t){e("FbUX")},k=e("VU/8")(x.a,w,!1,$,"data-v-28906417",null).exports,S={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("headTop"),this._v(" "),a("searchTop"),this._v(" "),a("pageNav"),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-xl"},[s("div",{staticClass:"list card"},[s("div",{staticClass:"card-header"},[t._v("当前品牌")]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"col-3 order"},[s("div",{staticClass:"card"},[s("img",{staticClass:"card-img-top",attrs:{src:e("c+Ht")}}),t._v(" "),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"title"},[t._v("Cardtitleqweqwasdasqeqe")]),t._v(" "),s("p",{staticClass:"card-text",staticStyle:{"margin-bottom":"5px"}},[s("small",{staticClass:"text-muted"},[t._v("红色")])]),t._v(" "),s("p",{staticClass:"card-text float-left"},[t._v("\n                单价:\n                "),s("span",{staticStyle:{color:"#fe6200"}},[t._v("￥66")])]),t._v(" "),s("p",{staticClass:"card-text float-left",staticStyle:{"margin-left":"30px"}},[t._v("\n                数量:\n                "),s("span",{staticStyle:{color:"red"}},[t._v("2")])])]),t._v(" "),s("div",{staticClass:"card-footer btn",attrs:{"data-toggle":"modal","data-target":".orderDetial"}},[t._v("查看详情")])])])]),t._v(" "),s("div",{staticClass:"modal fade orderDetial",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v("详情信息")])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("p",[t._v("商品名称：asdasdadada")]),t._v(" "),s("p",[t._v("客户名称：AssHunter")]),t._v(" "),s("p",[t._v("款式：sadasdasd")]),t._v(" "),s("p",[t._v("单价：sadasdasd")]),t._v(" "),s("p",[t._v("数量：2")])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger"},[t._v("接取此单")])])])])]),t._v(" "),s("div",{staticClass:"card-footer"},[s("nav",{attrs:{"aria-label":"..."}},[s("ul",{staticClass:"pagination"},[s("li",{staticClass:"page-item disabled"},[s("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[t._v("Previous")])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("1")])]),t._v(" "),s("li",{staticClass:"page-item active"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("\n                2\n                "),s("span",{staticClass:"sr-only"},[t._v("(current)")])])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("3")])]),t._v(" "),s("li",{staticClass:"page-item"},[s("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Next")])])])])])])])}]};e("VU/8")({data:function(){return{}}},S,!1,function(t){e("XQG8")},"data-v-61f521c0",null).exports;var P={data:function(){return{closeTime:5}},mounted:function(){var t=this;this.$http.post(this.$api.emailValidation,{activity_token:this.$route.params.activity_token}).then(function(a){200==a.status&&(1==a.type?layer.msg("token已过期,已为您发送新邮件",function(){layer.msg("页面将在"+t.closeTime+"秒后关闭"),t.closePage()}):2==a.type&&setTimeout(function(){layer.msg("页面将在"+t.closeTime+"秒后跳转至首页"),t.closePage()},3e3))})},methods:{closePage:function(){this.closeTime>0?(this.closeTime--,setTimeout(this.closePage,1e3)):this.$router.push({name:"index"})}}},I={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("headTop"),this._v(" "),a("searchTop"),this._v(" "),a("pageNav")],1)},staticRenderFns:[]};var A=e("VU/8")(P,I,!1,function(t){e("2gu4")},"data-v-fa808d28",null).exports;s.a.use(n.a);var E=new n.a({routes:[{path:"/",name:"index",meta:{login:!1},component:c},{path:"/login",name:"login",meta:{login:!1},component:v},{path:"/shop",name:"shop",meta:{login:!1},component:h},{path:"/shop/:productId",name:"productInfo",meta:{login:!0},component:y},{path:"/user",name:"user",meta:{login:!0},component:k},{path:"/mail/:activity_token",name:"mail",meta:{login:!1},component:A}]}),N=e("NYxO");s.a.use(N.a);var D=new N.a.Store({state:{user:"",isLogin:localStorage.user?1:0,products:null,currentBrand:null,currentProduct:null,searchProducts:null},mutations:{setUser:function(t){if(!localStorage.user)return layer.msg("数据错误",{icon:3});t.user=JSON.parse(localStorage.user),t.isLogin=1},setProducts:function(t,a){t.products=a},logout:function(t){localStorage.removeItem("user"),localStorage.removeItem("JWT_token"),t.isLogin=0},setSearchProducts:function(t,a){t.searchProducts=a},tokenExpried:function(){this.commit("logout"),E.push({name:"login"})}},getters:{userData:function(t){return localStorage.getItem("user")&&(t.user=JSON.parse(localStorage.getItem("user")),t.isLogin=1),t},products:function(t){return t.products},selectProducts:function(t){return t.products.map(function(a){if(!(null!=t.currentBrand&&t.currentBrand!=a.productable.brand||null!=t.currentProduct&&t.currentProduct!=a.productable_type))return a}).filter(function(t){return void 0!=t})},searchProducts:function(t){return t.searchProducts}}}),T=(e("4kSj"),e("//Fk")),M=e.n(T),B=e("mtWM"),L=e.n(B),R=e("osWI"),F=e.n(R),z=e("mw3O"),O=e.n(z);function j(t){return 200===t.status?(t.message&&F.a.msg(t.message,{icon:1}),t):(t.message&&F.a.msg(t.message,{icon:3}),t)}function U(t){if(200!=t.status)return F.a.msg(t.data.message,{icon:3},function(){"Token has expired"==t.data.message&&D.commit("tokenExpried")},{shade:[.8]}),t}L.a.interceptors.request.use(function(t){return localStorage.JWT_TOKEN&&(t.headers.token=localStorage.JWT_TOKEN),t},function(t){return F.a.msg(t,{icon:5}),M.a.reject(t)}),L.a.interceptors.response.use(function(t){return t.data},function(t){return F.a.msg("Http请求失败，请联系管理员",{icon:5}),M.a.reject(t.response)});var V={post:function(t,a){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(a=O.a.stringify(a)),L()({method:"post",baseURL:"/api",url:t,data:a,withCredentials:!0,timeout:5e3}).then(function(t){return j(t)},function(t){return U(t)})},get:function(t,a){return L()({method:"get",baseURL:"/api",url:t,params:a,withCredentials:!0,timeout:5e3}).then(function(t){return j(t)},function(t){return U(t)})}},H={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"header_top"},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white",attrs:{id:"top_nav"}},[e("router-link",{staticClass:"title",attrs:{to:{name:"index"}}},[t._v("\n      iflens\n      "),e("span",[t._v("-线上镜片交易网站")])]),t._v(" "),e("div",{staticClass:"nav_btns"}),t._v(" "),t.userData.isLogin?e("ul",{staticClass:"navbar-nav navbar-expand"},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link"},[e("img",{staticClass:"userImage",attrs:{src:this.$url+t.userData.user.image.image_url}})])]),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v(t._s(t.userData.user.name))])]),t._v(" "),e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("我的账户")]),t._v(" "),e("div",{staticClass:"userOperation dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[e("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"user"}}},[e("a",[t._v("个人中心")])]),t._v(" "),e("a",{staticClass:"dropdown-item",on:{click:function(a){return t.logout()}}},[t._v("退出登录")])],1)])]):e("ul",{directives:[{name:"show",rawName:"v-show",value:"login"!=this.$route.name,expression:"this.$route.name!='login'"}],staticClass:"navbar-nav navbar-expand"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"}}},[t._v("登录")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"login",params:{formState:2}}}},[t._v("注册")])],1)])],1)])},staticRenderFns:[]};var G=e("VU/8")({data:function(){return{}},computed:{userData:function(){return this.$store.getters.userData}},methods:{logout:function(){this.$store.commit("logout"),this.$router.push({path:"/"})}}},H,!1,function(t){e("E/xg")},"data-v-32521dbf",null).exports,Z={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page_nav"},[e("div",{staticClass:"container-xl"},[e("div",{staticClass:"category"},[e("div",{staticClass:"dropdown"},[e("div",{staticStyle:{"border-radius":"20px"},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("svg",{staticClass:"bi bi-list",attrs:{width:"1.5em",height:"1.5em",viewBox:"0 0 20 20",fill:"#ffff",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M4.5 13.5A.5.5 0 015 13h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 9h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 5h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule":"evenodd"}})]),t._v(" "),e("span",{staticStyle:{"letter-spacing":"20px"}},[t._v("导航")])]),t._v(" "),e("div",{staticClass:"dropdown-menu",staticStyle:{width:"270px","margin-top":"-10px"}},t._l(this.page,function(a,s){return e("button",{key:s,staticClass:"dropdown-item",staticStyle:{"text-align":"center"},attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:a.value})}}},[t._v(t._s(a.name))])}),0)])])])])},staticRenderFns:[]};var W=e("VU/8")({data:function(){return{page:[{name:"商品列表",value:"shop"}]}}},Z,!1,function(t){e("oejJ")},"data-v-ae4e0222",null).exports,J={data:function(){return{type:[{name:"全部分类"},{name:"镜片",value:"App\\Models\\Lens"},{name:"镜架",value:"App\\Models\\Frame"}],currentType:0,title:"",searchAmount:"",searchDropdown:0}},mounted:function(){null==this.$store.state.searchProducts&&this.getSeacrchProducts()},methods:{getSeacrchProducts:function(){var t=this;this.$http.post(this.$api.getSearchProducts).then(function(a){200==a.status&&t.$store.commit("setSearchProducts",a.products)})},changeCurrentType:function(t){this.currentType=t}},computed:{allProducts:function(){var t=this;return 0!=this.currentType?this.$store.getters.searchProducts.filter(function(a){return a.productable_type==t.type[t.currentType].value}):this.$store.getters.searchProducts},searchProducts:function(){var t=this;if(console.log(this.allProducts),null!=this.allProducts&&""!=this.title.trim())return this.allProducts.filter(function(a){return-1!==a.title.indexOf(t.title.trim())}).slice(0,10)}}},Q={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"search_top"},[e("div",{staticClass:"container-xl"},[t._m(0),t._v(" "),e("div",{staticClass:"search_box"},[e("div",{staticClass:"input-group input-group-lg",staticStyle:{height:"100%","align-items":"center",width:"80%","font-size":"20px"}},[e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"selectBox"},[e("button",{staticClass:"btn btn-outline-light dropdown-toggle border-right-1",attrs:{id:"search_category",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.type[t.currentType].name))]),t._v(" "),e("div",{staticClass:"dropdown-menu"},t._l(t.type,function(a,s){return e("a",{key:s,class:["dropdown-item",{active:t.currentType==s}],attrs:{href:"#"},on:{click:function(a){return t.changeCurrentType(s)}}},[t._v(t._s(a.name))])}),0)])]),t._v(" "),e("div",{staticClass:"searchBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control border-left-0 dropdown-toggle",attrs:{type:"text",id:"search",placeholder:"请输入内容跳转...","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},domProps:{value:t.title},on:{focus:function(a){t.searchDropdown=1},input:function(a){a.target.composing||(t.title=a.target.value)}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.searchDropdown,expression:"searchDropdown"}],staticClass:"dropdown-menu"},t._l(this.searchProducts,function(a,s){return e("a",{key:s,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[t._v(t._s(a.title))])}),0)]),t._v(" "),t._m(1)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"logo"},[a("img",{attrs:{src:e("4GjL"),height:"100",width:"190"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button",id:"search_btn"}},[a("img",{staticStyle:{width:"25px"},attrs:{src:e("dZHa")}})])])}]};var X=e("VU/8")(J,Q,!1,function(t){e("OTFI")},"data-v-aeee87b4",null).exports;var Y=function(t){t.component("headTop",G),t.component("pageNav",W),t.component("searchTop",X)},K=(e("qb6w"),e("Bb4J"),e("e0XP"),e("M9AG"),e("YZ0n")),q=e.n(K),tt=e("EAZf"),at=e.n(tt);e("N1kN");s.a.use(at.a),at.a.setDefaults({Options:{inline:!0,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"}}),s.a.use(F.a),s.a.use(q.a),s.a.prototype.$axios=L.a,s.a.prototype.$http=V,s.a.prototype.$api={login:"/login",register:"/register",getAuth:"/getAuth",getProducts:"/getProducts",getProduct:"/getProduct",addToCart:"/addToCart",addAddress:"/addAddress",getRelevance:"/getRelevance",deleteAddress:"/deleteAddress",updateUserData:"/updateUserData",setOrder:"/setOrder",getHotProducts:"getHotProducts",getSearchProducts:"getSearchProducts",upload:"upload",emailValidation:"emailValidation",deleteCartItems:"deleteCartItems",changePassword:"changePassword"},s.a.prototype.$url="http://iflens.com",E.beforeEach(function(t,a,e){t.matched.some(function(t){return t.meta.login})&&0==D.state.isLogin?e("/login"):e()}),s.a.use(Y),new s.a({el:"#app",router:E,store:D,components:{App:r},template:"<App/>"})},OTFI:function(t,a){},Qg3l:function(t,a){},XQG8:function(t,a){},"c+Ht":function(t,a,e){t.exports=e.p+"static/img/thumb_5479_thumb_VA108M2NLL3Dj2Pv_15.f1e3762.jpg"},csAk:function(t,a,e){t.exports=e.p+"static/img/login_bg.6f1a61d.jpg"},dZHa:function(t,a){t.exports="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iYmkgYmktc2VhcmNoIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJjdXJyZW50Q29sb3IiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjQ0MiAxMi40NDJhMSAxIDAgMDExLjQxNSAwbDMuODUgMy44NWExIDEgMCAwMS0xLjQxNCAxLjQxNWwtMy44NS0zLjg1YTEgMSAwIDAxMC0xLjQxNXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPg0KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjUgMTRhNS41IDUuNSAwIDEwMC0xMSA1LjUgNS41IDAgMDAwIDExek0xNSA4LjVhNi41IDYuNSAwIDExLTEzIDAgNi41IDYuNSAwIDAxMTMgMHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPg0KPC9zdmc+"},e0XP:function(t,a){},"goV/":function(t,a,e){"use strict";var s=e("pFYg"),i=e.n(s),r={name:"cropper",data:function(){return{crap:!1,previews:{},option:{img:"iflens.com/image/user",info:!0,outputSize:1,full:!0,outputType:"png",canMove:!1,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:150,autoCropHeight:150,fixedBox:!0},fileName:"",downImg:"#",imgFile:"",uploadImgRelaPath:""}},props:["uploadType"],methods:{changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(t){var a=this;console.log("finish",t);var e=this,s=new FormData;"blob"===t?this.$refs.cropper.getCropBlob(function(t){window.URL.createObjectURL(t);s.append("multfile",t,e.fileName),s.append("operaType",a.uploadType),console.log(s.get("multfile")),a.$http.post(a.$api.upload,s,!1).then(function(t){200==t.status&&a.$emit("upload")})}):this.$refs.cropper.getCropData(function(t){})},realTime:function(t){console.log("realTime"),this.previews=t},down:function(t){var a=this;console.log("down");var e=document.createElement("a");e.download="author-img","blob"===t?this.$refs.cropper.getCropBlob(function(t){a.downImg=window.URL.createObjectURL(t),e.href=window.URL.createObjectURL(t),e.click()}):this.$refs.cropper.getCropData(function(t){a.downImg=t,e.href=t,e.click()})},uploadImg:function(t,a){console.log("uploadImg");var e=this,s=t.target.files[0];if(e.fileName=s.name,!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var r=new FileReader;r.onload=function(t){var s=void 0;s="object"===i()(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,1===a?e.option.img=s:2===a&&(e.example2.img=s)},r.readAsArrayBuffer(s)},imgLoad:function(t){console.log("imgLoad"),console.log(t)}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cropper-component"},[e("div",{staticClass:"info-item"},[e("div",{staticClass:"btn-box"},[e("label",{staticClass:"btn",attrs:{for:"uploads"}},[t._v("选择图片")]),t._v(" "),e("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)",width:"1px"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},domProps:{value:t.imgFile},on:{change:function(a){return t.uploadImg(a,1)}}}),t._v(" "),e("input",{staticClass:"operation-btn",attrs:{type:"button",value:"+",title:"放大"},on:{click:function(a){return t.changeScale(1)}}}),t._v(" "),e("input",{staticClass:"operation-btn",attrs:{type:"button",value:"-",title:"缩小"},on:{click:function(a){return t.changeScale(-1)}}}),t._v(" "),e("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↺",title:"左旋转"},on:{click:t.rotateLeft}}),t._v(" "),e("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↻",title:"右旋转"},on:{click:t.rotateRight}}),t._v(" "),e("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↓",title:"下载"},on:{click:function(a){return t.down("blob")}}}),t._v(" "),e("div",{staticClass:"btn",on:{click:function(a){return t.finish("blob")}}},[t._v("上传头像")])]),t._v(" "),e("div",{staticClass:"operation-box"},[e("div",{staticClass:"cropper"},[e("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.size,outputType:t.option.outputType,info:t.option.info,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox},on:{realTime:t.realTime,imgLoad:t.imgLoad}})],1)]),t._v(" "),e("div",{staticClass:"preview-box"},[e("div",[t._v("预览：")]),t._v(" "),e("div",{staticClass:"preview",style:t.previews.div},[e("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])])])},staticRenderFns:[]};var o=e("VU/8")(r,n,!1,function(t){e("DQpg")},"data-v-0fbde4cc",null);a.a=o.exports},j4iE:function(t,a){},jF4U:function(t,a){},oejJ:function(t,a){},pIzz:function(t,a){},qb6w:function(t,a){},rtkI:function(t,a,e){t.exports=e.p+"static/img/slider1.dd8f012.jpg"},sdcZ:function(t,a){},unXG:function(t,a,e){"use strict";(function(t){var s=e("mvHQ"),i=e.n(s),r=e("e7x4"),n=(e.n(r),e("mw3O"));e.n(n);a.a={data:function(){return{formState:1,userLogin:{email:"",password:""},userRegister:{name:"",email:"",password:""}}},methods:{changeForm:function(t){this.formState=t},login:function(){var t=this,a=this.userLogin;if(!this.dataIsEmpty(this.userLogin))return!1;this.$http.post(this.$api.login,a).then(function(a){200==a.status&&(localStorage.JWT_TOKEN=a.token,console.log(localStorage.JWT_TOKEN),t.getAuth())})},getAuth:function(){var t=this,a=this;this.$http.post(this.$api.getAuth).then(function(e){200==e.status&&(localStorage.user=i()(e.user),t.$store.commit("setUser"),e.user.is_activity?t.$router.push({path:"/"}):layer.msg("邮箱未验证，请于"+e.user.activity_expire+"之前前往邮箱验证",function(){a.$router.push({path:"/"})}))})},register:function(){var t=this,a=this.userRegister;if(!this.dataIsEmpty(this.userRegister))return!1;this.$http.post(this.$api.register,a).then(function(a){200==a.status&&(localStorage.JWT_TOKEN=a.token,t.getAuth())})},dataIsEmpty:function(t){for(var a in t)if(""==t[a])return layer.msg(a+"不能为空",{icon:2}),!1;return!0}},mounted:function(){this.$route.params.formState&&(this.formState=this.$route.params.formState),t("body").css({background:"url("+e("csAk")+") no-repeat","background-size":"100% 100%","background-attachment":"fixed",overflow:"hidden"})},beforeDestroy:function(){t("body").removeAttr("style")}}}).call(a,e("4kSj"))},"wp/7":function(t,a,e){t.exports=e.p+"static/img/slider3.6fd35bf.jpg"}},["NHnr"]);
//# sourceMappingURL=app.bdf741a076f38e342512.js.map