webpackJsonp([1],{"37Om":function(t,a){},"7Cq/":function(t,a){},"7cij":function(t,a){},"7utO":function(t,a){},BaN0:function(t,a){},DF0e:function(t,a){},GWQt:function(t,a,s){"use strict";(function(t){var e=s("mvHQ"),i=s.n(e),r=s("goV/"),n=s("mw3O");s.n(n);a.a={data:function(){return{currentName:"",currentAddress:{id:"",contact_name:"",contact_phone:"",address:""},currentEyesData:{status:"",left:"",right:"",cylinder:"",pd:"",axis:"",visual_acuity:""},user:{image:{}},tabName:"",active:"",frist_tabs:[{name:"我的信息",info:"myMessage",second_tabs:["个人信息","信息设置","我的地址"]},{name:"我的订单",info:"myOrder",second_tabs:["全部订单","购物车"]}],currentCartItems:[],cartAddress:""}},methods:{tabChange:function(t,a){this.active;this.active=t,this.tabName=a},initAddress:function(t){t?(this.currentAddress=JSON.parse(i()({id:t.id,contact_name:t.contact_name,contact_phone:t.contact_phone,address:t.address})),console.log(this.currentAddress)):this.currentAddress={id:"",contact_name:"",contact_phone:"",address:""}},modelOpen:function(t){this.initAddress(t)},addAddress:function(){var a=this;for(var s in this.currentAddress)if(""==String(this.currentAddress[s]).trim()&&"id"!=s)return layer.msg(s+"不能为空"),!1;this.$http.post(this.$api.addAddress,{address:this.currentAddress}).then(function(s){(s.status=200)&&(a.user.addresses=s.addresses,t("#addressModal").modal("hide"))})},deleteAddress:function(t){var a=this;layer.confirm("是否删除该地址",{icon:3},function(s){a.$http.post(a.$api.deleteAddress,{id:t}).then(function(t){200==t.status&&(a.user.addresses=t.addresses),layer.close(s)})})},changeCartItems:function(t){var a=-1==this.currentCartItems.indexOf(t)?this.currentCartItems.push(t):this.currentCartItems.splice(a,1);console.log(this.currentCartItems)},Settlement:function(){this.currentCartItems.length?t("#cartModal").modal("show"):layer.msg("请选择需要购买的物品")},changeCartAddress:function(t){this.cartAddress=JSON.parse(i()(t))},pay:function(){var a=this;""==!this.cartAddress?this.$http.post(this.$api.setOrder,{cartItems:this.currentCartItems,address:this.cartAddress.id}).then(function(s){200==s.status&&(a.user.orders=s.orders,t("#cartModal").modal("hide"))}):layer.msg("请选择收货地址")},getAuth:function(){var t=this;this.$http.post(this.$api.getAuth).then(function(a){200==a.status&&(localStorage.user=i()(a.user),t.$store.commit("setUser"))})},updateUserData:function(){var t=this;for(var a in this.currentEyesData)if(""==String(this.currentEyesData[a]).trim())return layer.msg(a+"不能为空"),!1;delete this.currentEyesData.id,this.$http.post(this.$api.updateUserData,{name:this.currentName,eyesData:this.currentEyesData}).then(function(a){200==a.status&&(t.user.name=a.name,console.log(t.user.name),t.user.eyesData=a.eyesData,t.getAuth(),layer.msg("更新成功",{icon:1}))})},upload:function(){this.getAuth(),t(".uploadModal").modal("hide")}},mounted:function(){var t=this;this.tabName=this.frist_tabs[0].name,this.active=this.frist_tabs[0].info+"0",this.$http.post(this.$api.getRelevance).then(function(a){200==a.status&&(t.user=a.user,t.currentName=a.user.name,console.log(a.user.eyes_data),a.user.eyes_data&&(t.currentEyesData=a.user.eyes_data),console.log(t.user))})},computed:{ItemsPrice:function(){var t=0;return this.currentCartItems.forEach(function(a){t+=parseFloat(a.product_sku.price)*parseFloat(a.amount)}),t},userImage:function(){return this.$store.getters.userData.user.image}},components:{"tab-content":{template:"<div><slot :name='tabName'></slot></div>",props:["tabName"]},cropperComponent:r.a}}}).call(a,s("4kSj"))},M9AG:function(t,a,s){"use strict";(function(t){var a,e,i,r,n=s("fZjL"),o=s.n(n),l=s("pFYg"),c=s.n(l);a=t,e=function(t,s){return void 0===t||null===t||void 0===t||t==[]||""===t||s&&""===a.trim(t)},i=function(t,a,s){var i=e(t.data(a))?t.attr(a):t.data(a);return i||s[a]},(r=function(t,s){this.$element=a(t),this.init(s)}).prototype={constructor:r,_parseAttr:function(t,a){var s=this.$element;if("range"===s.attr("type")||"number"===s.attr("type")){var r=i(s,t,a),n=.5;"min"===t?n=0:"max"===t?n=5:"step"===t&&(n=.5);var o=e(r)?n:r;return parseFloat(o)}return parseFloat(a[t])},listen:function(){var t=this;t.$rating.on("click",function(a){t.inactive||(w=a.pageX-t.$rating.offset().left,t.setStars(w),t.$element.trigger("change"),t.$element.trigger("rating.change",[t.$element.val(),t.$caption.html()]))}),t.$clear.on("click",function(){t.inactive||t.clear()}),a(t.$element[0].form).on("reset",function(){t.inactive||t.reset()})},initSlider:function(t){var a=this;e(a.$element.val())&&a.$element.val(0),a.initialValue=a.$element.val(),a.min=void 0!==t.min?t.min:a._parseAttr("min",t),a.max=void 0!==t.max?t.max:a._parseAttr("max",t),a.step=void 0!==t.step?t.step:a._parseAttr("step",t),(isNaN(a.min)||e(a.min))&&(a.min=0),(isNaN(a.max)||e(a.max))&&(a.max=5),(isNaN(a.step)||e(a.step)||0==a.step)&&(a.step=.5),a.diff=a.max-a.min},init:function(t){var s=this;s.options=t,s.initSlider(t),s.checkDisabled(),$element=s.$element,s.containerClass=t.containerClass,s.glyphicon=t.glyphicon;var i=s.glyphicon?"":"★";s.symbol=e(t.symbol)?i:t.symbol,s.rtl=t.rtl||s.$element.attr("dir"),s.rtl&&s.$element.attr("dir","rtl"),s.showClear=t.showClear,s.showCaption=t.showCaption,s.size=t.size,s.stars=t.stars,s.defaultCaption=t.defaultCaption,s.starCaptions=t.starCaptions,s.starCaptionClasses=t.starCaptionClasses,s.clearButton=t.clearButton,s.clearButtonTitle=t.clearButtonTitle,s.clearButtonBaseClass=e(t.clearButtonBaseClass)?"clear-rating":t.clearButtonBaseClass,s.clearButtonActiveClass=e(t.clearButtonActiveClass)?"clear-rating-active":t.clearButtonActiveClass,s.clearCaption=t.clearCaption,s.clearCaptionClass=t.clearCaptionClass,s.clearValue=t.clearValue,s.$element.removeClass("form-control").addClass("form-control"),s.$clearElement=e(t.clearElement)?null:a(t.clearElement),s.$captionElement=e(t.captionElement)?null:a(t.captionElement),void 0===s.$rating&&void 0===s.$container&&(s.$rating=a(document.createElement("div")).html('<div class="rating-stars"></div>'),s.$container=a(document.createElement("div")),s.$container.before(s.$rating),s.$container.append(s.$rating),s.$element.before(s.$container).appendTo(s.$rating)),s.$stars=s.$rating.find(".rating-stars"),s.generateRating(),s.$clear=e(s.$clearElement)?s.$container.find("."+s.clearButtonBaseClass):s.$clearElement,s.$caption=e(s.$captionElement)?s.$container.find(".caption"):s.$captionElement,s.setStars(),s.$element.hide(),s.listen(),s.showClear&&s.$clear.attr({class:s.getClearClass()})},checkDisabled:function(){var t=this;t.disabled=i(t.$element,"disabled",t.options),t.readonly=i(t.$element,"readonly",t.options),t.inactive=t.disabled||t.readonly},getClearClass:function(){return this.clearButtonBaseClass+" "+(this.inactive?"":this.clearButtonActiveClass)},generateRating:function(){var t=this,a=t.renderClear(),s=t.renderCaption(),i=t.rtl?"rating-container-rtl":"rating-container",r=t.getStars();i+=t.glyphicon?""==t.symbol?" rating-gly-star":" rating-gly":" rating-uni",t.$rating.attr("class",i),t.$rating.attr("data-content",r),t.$stars.attr("data-content",r),i=t.rtl?"star-rating-rtl":"star-rating",t.$container.attr("class",i+" rating-"+t.size),t.inactive?t.$container.removeClass("rating-active").addClass("rating-disabled"):t.$container.removeClass("rating-disabled").addClass("rating-active"),void 0===t.$caption&&void 0===t.$clear&&(t.rtl?t.$container.prepend(s).append(a):t.$container.prepend(a).append(s)),e(t.containerClass)||t.$container.removeClass(t.containerClass).addClass(t.containerClass)},getStars:function(){for(var t=this.stars,a="",s=1;t>=s;s++)a+=this.symbol;return a},renderClear:function(){var t=this;if(!t.showClear)return"";var a=t.getClearClass();return e(t.$clearElement)?'<div class="'+a+'" title="'+t.clearButtonTitle+'">'+t.clearButton+"</div>":(t.$clearElement.removeClass(a).addClass(a).attr({title:t.clearButtonTitle}),t.$clearElement.html(t.clearButton),"")},renderCaption:function(){var t=this,a=t.$element.val();if(!t.showCaption)return"";var s=t.fetchCaption(a);return e(t.$captionElement)?'<div class="caption">'+s+"</div>":(t.$captionElement.removeClass("caption").addClass("caption").attr({title:t.clearCaption}),t.$captionElement.html(s),"")},fetchCaption:function(t){var a=this,s=parseFloat(t),i=e(a.starCaptionClasses[s])?a.clearCaptionClass:a.starCaptionClasses[s],r=e(a.starCaptions[s])?a.defaultCaption.replace(/\{rating\}/g,s):a.starCaptions[s];return'<span class="'+i+'">'+(s==a.clearValue?a.clearCaption:r)+"</span>"},getValueFromPosition:function(t){var a,s,e=this,i=function(t){var a=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0}(e.step);return a=t/e.$rating.width(),(s=e.min+Math.ceil(e.diff*a/e.step)*e.step)<e.min?s=e.min:s>e.max&&(s=e.max),s=function(t,a){return parseFloat(t.toFixed(a))}(parseFloat(s),i),e.rtl&&(s=e.max-s),s},setStars:function(t){var a=this,s=a.min,i=a.max,r=(a.step,arguments.length?a.getValueFromPosition(t):e(a.$element.val())?0:a.$element.val()),n=0,o=(a.$rating.width(),a.fetchCaption(r));n=(r-s)/i*100,a.rtl&&(n=100-n),a.$element.val(r),n+="%",a.$stars.css("width",n),a.$caption.html(o)},clear:function(){var t=this,a='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";t.$stars.removeClass("rated"),t.inactive||t.$caption.html(a),t.$element.val(t.clearValue),t.setStars(),t.$element.trigger("rating.clear")},reset:function(){var t=this;t.$element.val(t.initialValue),t.setStars(),t.$element.trigger("rating.reset")},update:function(t){arguments.length>0&&(this.$element.val(t),this.setStars())},refresh:function(t){var s=this;arguments.length&&(s.init(a.extend(s.options,t)),s.showClear?s.$clear.show():s.$clear.hide(),s.showCaption?s.$caption.show():s.$caption.hide())}},a.fn.rating=function(t){var s=Array.apply(null,arguments);return s.shift(),this.each(function(){var e=a(this),i=e.data("rating"),n="object"==(void 0===t?"undefined":c()(t))&&t;i||e.data("rating",i=new r(this,a.extend({},a.fn.rating.defaults,n,a(this).data()))),"string"==typeof t&&i[t].apply(i,s)})},a.fn.rating.defaults={stars:5,glyphicon:!0,symbol:null,disabled:!1,readonly:!1,rtl:!1,size:"md",showClear:!0,showCaption:!0,defaultCaption:"{rating} Stars",starCaptions:{.5:"Half Star",1:"One Star",1.5:"One & Half Star",2:"Two Stars",2.5:"Two & Half Stars",3:"Three Stars",3.5:"Three & Half Stars",4:"Four Stars",4.5:"Four & Half Stars",5:"Five Stars"},starCaptionClasses:{.5:"label label-danger",1:"label label-danger",1.5:"label label-warning",2:"label label-warning",2.5:"label label-info",3:"label label-info",3.5:"label label-primary",4:"label label-primary",4.5:"label label-success",5:"label label-success"},clearButton:'<i class="glyphicon glyphicon-minus-sign"></i>',clearButtonTitle:"Clear",clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaption:"Not Rated",clearCaptionClass:"label label-default",clearValue:0,captionElement:null,clearElement:null,containerClass:null},a(document).ready(function(){var t=a("input.rating");o()(t).length>0&&t.rating()})}).call(a,s("4kSj"))},MzTR:function(t,a,s){t.exports=s.p+"static/img/slider2.8a34ef7.jpg"},N1kN:function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7+uW"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App"},i,!1,function(t){s("pSWB")},null,null).exports,n=s("/ocq"),o={data:function(){return{products:[],amount:8,carousels:[{url:s("rtkI"),id:1},{url:s("MzTR"),id:2},{url:s("wp/7"),id:3}]}},mounted:function(){this.getHotProducts()},methods:{getHotProducts:function(){var t=this;this.$http.post(this.$api.getHotProducts,{amount:this.amount}).then(function(a){200==a.status&&(t.products=a.products,console.log(t.products))})}}},l={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("headTop"),t._v(" "),s("searchTop"),t._v(" "),s("pageNav"),t._v(" "),s("div",{staticClass:"Carousel"},[s("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleCaptions","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[t._l(t.carousels,function(t,a){return s("li",{key:a,class:{active:0==a},attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"0"}})}),t._v(" "),s("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"1"}}),t._v(" "),s("li",{attrs:{"data-target":"#carouselExampleCaptions","data-slide-to":"2"}})],2),t._v(" "),s("div",{staticClass:"container-xl"},[s("div",{staticClass:"carousel-inner"},t._l(t.carousels,function(a,e){return s("div",{key:e,class:["carousel-item",{active:0==e}],on:{click:function(s){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[s("img",{staticClass:"d-block h-100",attrs:{src:a.url,alt:"..."}}),t._v(" "),t._m(0,!0)])}),0)]),t._v(" "),t._m(1),t._v(" "),t._m(2)])]),t._v(" "),s("div",{staticClass:"hot"},[s("div",{staticClass:"container-xl",staticStyle:{"text-align":"left"}},[s("div",{staticClass:"tittle"},[t._v("热销产品")]),t._v(" "),s("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px solid #e5e5e5","margin-top":"10px","margin-bottom":"40px"}}),t._v(" "),s("div",{staticClass:"cardList"},t._l(t.products,function(a,e){return s("div",{key:e,staticClass:"card",on:{click:function(s){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[s("div",{staticClass:"imagBox"},[s("img",{staticClass:"card-img-top",attrs:{src:t.$url+(a.images.length?a.images[0].image_url:1)}})]),t._v(" "),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"title",staticStyle:{"font-size":"16px"}},[t._v(t._s(a.title))]),t._v(" "),s("p",{staticClass:"card-text",staticStyle:{"margin-bottom":"5px"}},t._l(a.sku,function(a,e){return s("span",{key:e,staticClass:"badge badge-secondary",staticStyle:{"margin-right":"10px"}},[s("small",[t._v(t._s(a.title))])])}),0)]),t._v(" "),s("div",{staticClass:"card-footer"},[s("p",{staticClass:"card-text float-left"},[t._v("\n              价格:\n              "),s("span",{staticStyle:{color:"#fe6200"}},[t._v("￥"+t._s(a.sku.length?a.sku[0].price:66))])]),t._v(" "),s("p",{staticClass:"card-text float-left",staticStyle:{"margin-left":"30px"}},[t._v("\n              销量:\n              "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(a.items_count))])])])])}),0)])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"carousel-caption d-none d-md-block"},[a("h5",[this._v("First slide label")]),this._v(" "),a("p",[this._v("Nulla vitae elit libero, a pharetra augue mollis interdum.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Previous")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleCaptions",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Next")])])}]};var c=s("VU/8")(o,l,!1,function(t){s("pHT2")},"data-v-5cbfddb9",null).exports,d=s("unXG"),u={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("headTop"),t._v(" "),s("div",{staticClass:"top-content"},[s("div",{staticClass:"inner-bg"},[s("div",{staticClass:"container"},[1==t.formState?s("div",{staticClass:"row"},[t._m(0)]):t._e(),t._v(" "),1==t.formState?s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6 col-sm-offset-3 form-box"},[s("div",{staticClass:"form-top"},[t._m(1),t._v(" "),s("div",{staticClass:"form-top-right"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",id:"signUpBtn"},on:{click:function(a){return t.changeForm(0)}}},[t._v("注 册")])])]),t._v(" "),s("div",{staticClass:"form-bottom"},[s("form",{staticClass:"signUpform",attrs:{role:"form",action:"",method:"post"}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userLogin.email,expression:"userLogin.email"}],staticClass:"form-email form-control",attrs:{type:"text",name:"form-email",placeholder:"邮箱",id:"form-email"},domProps:{value:t.userLogin.email},on:{input:function(a){a.target.composing||t.$set(t.userLogin,"email",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userLogin.password,expression:"userLogin.password"}],staticClass:"form-password form-control",attrs:{type:"password",name:"form-password",placeholder:"密码",id:"form-password"},domProps:{value:t.userLogin.password},on:{input:function(a){a.target.composing||t.$set(t.userLogin,"password",a.target.value)}}})]),t._v(" "),s("a",{staticClass:"btn",attrs:{id:"loginBtn"},on:{click:function(a){return t.login()}}},[t._v("登 录")])])])])]):s("div",{staticClass:"row",attrs:{id:"sinUpFrom"}},[s("div",{staticClass:"col-sm-6 col-sm-offset-3 form-box"},[s("div",{staticClass:"form-top"},[t._m(2),t._v(" "),s("div",{staticClass:"form-top-right"},[s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",id:"signUpBtn"},on:{click:function(a){return t.changeForm(1)}}},[t._v("返回登录")])])]),t._v(" "),s("div",{staticClass:"form-bottom"},[s("form",{staticClass:"signUp-form",attrs:{role:"form",action:"",method:"post"}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.name,expression:"userRegister.name"}],staticClass:"form-username form-control",attrs:{type:"text",name:"form-username",placeholder:"用户名",id:"form-username"},domProps:{value:t.userRegister.name},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"name",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.password,expression:"userRegister.password"}],staticClass:"form-password form-control",attrs:{type:"password",name:"form-password",placeholder:"密码（6-16个字符组成，区分大小写）",id:"form-password"},domProps:{value:t.userRegister.password},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"password",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userRegister.email,expression:"userRegister.email"}],staticClass:"form-password form-control",attrs:{type:"text",name:"form-password",placeholder:"填写常用邮箱 ",id:"form-password"},domProps:{value:t.userRegister.email},on:{input:function(a){a.target.composing||t.$set(t.userRegister,"email",a.target.value)}}})]),t._v(" "),t._m(3),t._v(" "),s("a",{staticClass:"btn",attrs:{id:"loginBtn"},on:{click:function(a){return t.register()}}},[t._v("注 册")])])])])]),t._v(" "),t._m(4)])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-sm-8 col-sm-offset-2 text",staticStyle:{"text-align":"center"}},[a("h1",[a("strong",[this._v("Bootstrap")]),this._v(" Login Form\n            ")]),this._v(" "),a("div",{staticClass:"description"},[a("p",[this._v("\n                This is a free responsive login form made with Bootstrap.\n                Download it on\n                "),a("a",{attrs:{href:"#"}},[a("strong",[this._v("AZMIND")])]),this._v(", customize and use it as you like!\n              ")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-top-left"},[a("h3",[this._v("Login to our site")]),this._v(" "),a("p",[this._v("Enter your username and password to log on:")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-top-left"},[a("h3",[this._v("注册成为我们的用户")]),this._v(" "),a("p",[this._v("输入您的账户信息以创建新的账户")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"form-group input-group"},[a("input",{staticClass:"form-username form-control",attrs:{type:"text",name:"form-username",placeholder:"验证码",id:"form-username"}}),this._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-secondary",staticStyle:{width:"200px"},attrs:{type:"button"}},[this._v("Button")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6 col-sm-offset-3 social-login"},[a("h3",[this._v("...or login with:")]),this._v(" "),a("div",{staticClass:"social-login-buttons",staticStyle:{"text-align":"center"}},[a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-facebook"}),this._v(" Facebook\n              ")]),this._v(" "),a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-twitter"}),this._v(" Twitter\n              ")]),this._v(" "),a("a",{staticClass:"btn btn-link-2",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-google-plus"}),this._v(" Google Plus\n              ")])])])])}]};var p=function(t){s("mWYj")},v=s("VU/8")(d.a,u,!1,p,"data-v-4ab6c4ba",null).exports,m={mounted:function(){this.getProducts(),this.getHotProducts()},data:function(){return{products:[],hotProducts:[],isLoding:1,currentPage:1,pageStep:8,amount:5,productType:[{name:"全部",value:null},{name:"镜架",value:"App\\Models\\Frame"},{name:"镜片",value:"App\\Models\\Lens"}],productBrand:["品牌1","品牌2","品牌3","品牌4"]}},methods:{getProducts:function(){var t=this;this.$http.get(this.$api.getProducts).then(function(a){200==a.status&&(t.$store.commit("setProducts",a.products),t.products=t.Products)})},getHotProducts:function(){var t=this;this.$http.post(this.$api.getHotProducts,{amount:this.amount}).then(function(a){200==a.status&&(t.hotProducts=a.products,console.log(t.hotProducts))})},changePage:function(t){this.currentPage=t},changeType:function(t){this.$store.state.currentProduct=t,this.products=this.Products,this.currentPage=1,console.log(this.Products)},changeBrand:function(t){this.$store.state.currentBrand=t,this.products=this.Products,this.currentPage=1,console.log(this.Products)},link:function(t){this.$router.push({path:"/shop/"+t})}},computed:{pageNum:function(){return this.products.length>this.pageStep?Math.floor(this.products.length/this.pageStep)+1:1},currentBrand:function(){return this.$store.state.currentBrand},currentProduct:function(){return this.$store.state.currentProduct},Products:function(){return this.$store.getters.selectProducts}}},g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("headTop"),t._v(" "),s("searchTop"),t._v(" "),s("pageNav"),t._v(" "),s("div",{staticClass:"container-xl"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-9"},[s("div",{staticClass:"sortConfig"}),t._v(" "),t._l(t.products,function(a,e){return s("div",{directives:[{name:"show",rawName:"v-show",value:e>=(t.currentPage-1)*t.pageStep&&e<t.currentPage*t.pageStep,expression:"index>=(currentPage-1)*pageStep&&index<currentPage*pageStep"}],key:e,staticClass:"productBox"},[s("div",[s("div",{staticClass:"productImage"},[s("a",[s("img",{staticStyle:{width:"100%"},attrs:{src:t.$url+(a.images.length?a.images[0].image_url:1)}})])]),t._v(" "),s("div",{staticClass:"description"},[s("p",{staticStyle:{"font-size":"16px","line-height":"22px",color:"#484848","text-align":"left","margin-top":"25px"},attrs:{title:a.title}},[t._v(t._s(a.title))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px","line-height":"12px",color:"#919191"}},[t._v(t._s(a.description))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px","line-height":"24px",color:"#1f9316"}},[t._v("销售状态："+t._s(a.on_sale?"可售":""))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px","line-height":"26px",color:"#919191"}},[t._v("\n                商品选项：\n                "),t._l(a.sku,function(a,e){return s("span",{key:e,staticClass:"badge badge-secondary",staticStyle:{"margin-right":"5px"}},[t._v(t._s(a.description))])})],2)]),t._v(" "),s("div",{staticClass:"operation"},[s("p",{staticClass:"advicePrice"},[t._v("¥ "+t._s(a.sku.length?a.sku[0].price:66))]),t._v(" "),s("div",{staticClass:"btn"},[s("button",{staticClass:"btn btn-primary details",attrs:{type:"button"}},[s("span",{on:{click:function(s){return t.link(a.id)}}},[t._v("查看详情")])])])])])])}),t._v(" "),s("nav",{attrs:{"aria-label":"Page navigation"}},[s("span",{staticStyle:{"line-height":"38px","margin-left":"30px"}},[t._v("第"+t._s(t.currentPage)+"页，共"+t._s(t.pageNum)+"页")]),t._v(" "),s("ul",{staticClass:"pagination float-right"},[s("li",{class:{"page-item":!0,disabled:1==t.currentPage},on:{click:function(a){1!=t.currentPage&&(t.currentPage-=1)}}},[s("span",{staticClass:"page-link"},[t._v("Previous")])]),t._v(" "),t._l(t.pageNum,function(a){return s("li",{key:a,staticClass:"page-item"},[s("span",{class:{"page-link":!0,active:a==t.currentPage},on:{click:function(s){return t.changePage(a)}}},[t._v(t._s(a))])])}),t._v(" "),s("li",{class:{"page-item":!0,disabled:t.currentPage==t.pageNum},on:{click:function(a){t.currentPage!=t.pageNum&&(t.currentPage+=1)}}},[s("a",{staticClass:"page-link"},[t._v("Next")])])],2)])],2),t._v(" "),s("div",{staticClass:"col-3"},[s("div",{attrs:{id:"rightColumn","data-children":".item"}},[s("div",{staticClass:"item"},[s("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn1","aria-expanded":"true","aria-controls":"rightColumn1"}},[t._v("分类")]),t._v(" "),s("div",{staticClass:"collapse show",attrs:{id:"rightColumn1",role:"tabpanel"}},[s("ul",t._l(t.productType,function(a,e){return s("li",{key:e},[s("span",{class:{active:a.value==t.currentProduct},on:{click:function(s){return t.changeType(a.value)}}},[s("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    "+t._s(a.name)+"\n                  ")])])}),0)])]),t._v(" "),s("div",{staticClass:"item"},[s("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn2","aria-expanded":"false","aria-controls":"rightColumn2"}},[t._v("品牌")]),t._v(" "),s("div",{staticClass:"collapse",attrs:{id:"rightColumn2",role:"tabpanel"}},[s("ul",[s("li",[s("span",{class:{active:null==t.currentBrand},on:{click:function(a){return t.changeBrand(null)}}},[s("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    全部\n                  ")])]),t._v(" "),t._l(t.productBrand,function(a,e){return s("li",{key:e},[s("span",{class:{active:e==t.currentBrand},on:{click:function(a){return t.changeBrand(e)}}},[s("i",{staticClass:"fa fa-angle-right"}),t._v("\n                    "+t._s(a)+"\n                  ")])])})],2)])]),t._v(" "),s("div",{staticClass:"item"},[s("h5",{attrs:{"data-toggle":"collapse","data-parent":"#rightColumn",href:"#rightColumn3","aria-expanded":"false","aria-controls":"rightColumn3"}},[t._v("热销商品")]),t._v(" "),s("div",{staticClass:"collapse",attrs:{id:"rightColumn3",role:"tabpanel"}},[s("ul",t._l(t.hotProducts,function(a,e){return s("li",{key:e,on:{click:function(s){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[s("div",{staticClass:"hotSale"},[s("div",{staticClass:"hotImage"},[s("a",[s("img",{attrs:{src:t.$url+(a.images.length?a.images[0].image_url:1),width:"100%"}})])]),t._v(" "),s("div",{staticClass:"hotDescription"},[s("p",{staticClass:"hotTitle"},[t._v(t._s(a.title))]),t._v(" "),s("p",{staticClass:"hotPrice",staticStyle:{color:"#fe6200"}},[t._v("￥ "+t._s(a.sku.length?a.sku[0].price:66))])])])])}),0)])])])])])])],1)},staticRenderFns:[]};var h=s("VU/8")(m,g,!1,function(t){s("7Cq/")},"data-v-20a72786",null).exports,f={name:"MyRate",props:{score:{type:Number,default:0},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1}},data:function(){return{curScore:"",decimal:""}},created:function(){this.getDecimal()},methods:{getClass:function(t){return""===this.curScore?t<=this.score?"fa-star":t-this.score<1?"fa-star-half-o":"fa-star":t<=this.curScore?"fa-star":"fa-star-o"},getDecimal:function(){this.decimal=Number(100*this.score-100*Math.floor(this.score))},setScore:function(t){this.$emit("update:score",t)}}},_={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"rate",class:{disabled:t.disabled}},[t._l(5,function(a){return s("i",{staticClass:"fa",class:t.getClass(a),on:{mouseenter:function(s){!t.disabled&&(t.curScore=a)},mouseleave:function(a){!t.disabled&&(t.curScore="")},click:function(s){!t.disabled&&t.setScore(a)}}})}),t._v(" "),t.showText?s("span",{staticClass:"text"},[t._v(t._s(t.curScore||t.score)+"分")]):t._e()],2)},staticRenderFns:[]};var C={mounted:function(){var t=this;this.$http.post(this.$api.getProduct,{productId:this.$route.params.productId}).then(function(a){t.product=a.product,console.log(a.product)})},data:function(){return{product:{},currentSku:0,amount:1,parameters:{brand:"品牌",type:"类型",transmittance:"折射系数",refraction:"折射",weight:"重量",membrane:"膜",spherical:"球面",texture:"材质",country:"国家"},brand:{ZEISS:"蔡司",Essilor:"依视路",HOYA:"豪雅",Rodenstock:"罗敦司得",Seiko:"精工",Shamir:"沙米尔",Chemilens:"凯米",Younger:"雅歌",Transitions:"全视线",Kodak:"柯达",Nikon:"尼康",Asahi:"朝日",TOKAI:"东海",WX:"万新",Conant:"康耐特",Mingyue:"明月",Norville:"诺威尔",ITOH:"伊藤",Nidek:"尼德克"},type:["单光镜片","渐进镜片","防蓝光镜片","太阳镜片","偏光镜片","运动镜片","变色镜片","染色镜片","定制镜片","成长乐镜片","驾驶型镜片","数码型镜片","菁悦活力镜片"],country:["中国","德国","日本","美国","以色列","法国","韩国","英国"]}},methods:{changeSku:function(t){this.currentSku=t},addToCart:function(){this.$http.post(this.$api.addToCart,{skuId:this.product.sku[this.currentSku].id,amount:this.amount})}},computed:{price:function(){return this.product.sku[this.currentSku].price}},components:{rate:s("VU/8")(f,_,!1,function(t){s("DF0e")},null,null).exports}},b={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("headTop"),t._v(" "),s("searchTop"),t._v(" "),s("pageNav"),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"productImage"},[s("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"images"},[s("div",{staticClass:"imageBox col-4"},t._l(t.product.images,function(a,e){return s("img",{key:e,staticStyle:{width:"100%",display:"block"},attrs:{src:t.$url+a.image_url}})}),0)])])]),t._v(" "),s("div",{staticClass:"col-6"},[s("div",{staticClass:"producDetail"},[s("h4",[t._v(t._s(t.product.title))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px","line-height":"12px",color:"#919191"}},[t._v(t._s(t.product.description))]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"productPrice"},[t._v("¥"+t._s(t.price))]),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"dropdownBox"},[s("div",[t._v("\n                选  项：\n                "),s("div",{staticClass:"dropdown"},[s("a",{staticClass:"btn btn-secondary dropdown-toggle refractivity",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.product.sku[t.currentSku].description))]),t._v(" "),s("div",{staticClass:"dropdown-menu"},t._l(t.product.sku,function(a,e){return s("a",{key:e,staticClass:"dropdown-item",on:{click:function(a){return t.changeSku(e)}}},[t._v(t._s(a.description))])}),0)])]),t._v(" "),t._m(2)]),t._v(" "),s("div",{staticClass:"number"},[s("p",{staticClass:"float-left"},[t._v("数   量：")]),t._v(" "),s("div",{staticClass:"input-group input-group-sm mb-3",staticStyle:{width:"80px","padding-top":"5px"}},[s("div",{staticClass:"input-group-prepend"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button",disabled:1==t.amount},on:{click:function(a){t.amount--}}},[t._v("-")])]),t._v(" "),s("input",{staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"text",placeholder:"","aria-describedby":"basic-addon1",disabled:""},domProps:{value:t.amount}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(a){t.amount++}}},[t._v("+")])])])]),t._v(" "),s("div",{staticClass:"commit"},[s("button",{staticClass:"commitBtn btn btn-danger btn-lg rounded-pill",attrs:{type:"button"},on:{click:function(a){return t.addToCart()}}},[t._v("添加购物车")])])])])])])]),t._v(" "),s("div",{staticClass:"productDetail"},[t._m(3),t._v(" "),s("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[s("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-delailValue",role:"tabpanel"}},[s("div",{staticClass:"container-xl detilTable"},[s("div",{staticClass:"row"},[t._l(t.product.productable,function(a,e){return s("div",{directives:[{name:"show",rawName:"v-show",value:void 0!=t.parameters[e],expression:"parameters[index]!=undefined"}],key:e,staticClass:"col-3"},[t._v(t._s(t.parameters[e]+"："+a))])}),t._v(" "),s("div",{staticClass:"col-3"})],2)])]),t._v(" "),s("div",{staticClass:"tab-pane fade",attrs:{id:"nav-comment",role:"tabpanel","aria-labelledby":"nav-comment-tab"}},[s("div",{staticClass:"container-xl"},[s("ul",{staticClass:"commentList"},[s("li",[s("div",{staticClass:"commentBox"},[s("div",{staticClass:"title"},[t._m(4),t._v(" "),s("rate",{staticClass:"float-right",attrs:{score:"4.5",disabled:""}})],1),t._v(" "),t._m(5)])]),t._v(" "),s("li",[s("div",{staticClass:"commentBox"},[s("div",{staticClass:"title"},[t._m(6),t._v(" "),s("rate",{staticClass:"float-right",attrs:{score:"4.5",disabled:""}})],1),t._v(" "),t._m(7)])]),t._v(" "),s("li",[s("div",{staticClass:"commentBox"},[s("div",{staticClass:"title"},[t._m(8),t._v(" "),s("rate",{staticClass:"float-right",attrs:{score:"4.5",disabled:""}})],1),t._v(" "),t._m(9)])])])])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tagBox"},[a("div",{staticClass:"appraise float-left"},[a("i",{staticClass:"fa fa-thumbs-o-up",staticStyle:{color:"white"}},[this._v(" 20")])]),this._v(" "),a("div",{staticClass:"appraise float-left"},[a("i",{staticClass:"fa fa-commenting-o",staticStyle:{color:"white"}},[this._v(" 20")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"detailBtn"},[a("p",[this._v("查看详情参数")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t._v("\n                类   型：\n                "),s("div",{staticClass:"dropdown"},[s("a",{staticClass:"btn btn-secondary dropdown-toggle refractivity",attrs:{href:"#",role:"button",id:"dropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("Dropdown link")]),t._v(" "),s("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuLink"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Action")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Another action")]),t._v(" "),s("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[t._v("Something else here")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("nav",[a("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[a("a",{staticClass:"nav-item nav-link active",attrs:{id:"nav-delailValue-tab","data-toggle":"tab",href:"#nav-delailValue",role:"tab","aria-controls":"nav-delailValue","aria-selected":"true"}},[this._v("参数")]),this._v(" "),a("a",{staticClass:"nav-item nav-link",attrs:{id:"nav-comment-tab","data-toggle":"tab",href:"#nav-comment",role:"tab","aria-controls":"nav-comment","aria-selected":"false"}},[this._v("评论")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"float-left name"},[this._v("\n                    用户名称 -\n                    "),a("span",{staticStyle:{}},[this._v("2020-3-8")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"commentContent"},[a("p",[this._v("These keycaps look nice and a bit darker in person. However, since the whole set is missing the 1.75u shift keycap, I can't use them on my ALT keyboard :(")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"float-left name"},[this._v("\n                    用户名称 -\n                    "),a("span",{staticStyle:{}},[this._v("2020-3-8")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"commentContent"},[a("p",[this._v("These keycaps look nice and a bit darker in person. However, since the whole set is missing the 1.75u shift keycap, I can't use them on my ALT keyboard :(")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"float-left name"},[this._v("\n                    用户名称 -\n                    "),a("span",{staticStyle:{}},[this._v("2020-3-8")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"commentContent"},[a("p",[this._v("These keycaps look nice and a bit darker in person. However, since the whole set is missing the 1.75u shift keycap, I can't use them on my ALT keyboard :(")])])}]};var y=s("VU/8")(C,b,!1,function(t){s("Yp1C")},"data-v-28f54abb",null).exports,x=s("GWQt"),w={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("headTop"),t._v(" "),s("searchTop"),t._v(" "),s("pageNav"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:""==!t.user,expression:"!user==''"}],staticClass:"userUi"},[s("div",{staticClass:"container-xl"},[s("div",[s("div",{staticClass:"leftClomn"},[t._m(0),t._v(" "),s("div",{staticClass:"imageBox"},[s("img",{staticClass:"userImage rounded-circle",attrs:{src:t.$url+t.userImage.image_url}}),t._v(" "),s("div",{attrs:{calss:"name"}},[s("p",{staticStyle:{"font-size":"22px","margin-top":"5px"}},[t._v(t._s(t.user.name))]),t._v(" "),s("p",{staticStyle:{"margin-top":"-10px"}},[t._v("普通用户")])])]),t._v(" "),s("div",{staticClass:"menus"},[s("div",{attrs:{id:"exampleAccordion","data-children":".menu"}},t._l(t.frist_tabs,function(a,e){return s("div",{key:e,staticClass:"menu"},[s("div",{staticClass:"menuTitle",attrs:{href:"#"+a.info+"tab","data-toggle":"collapse","data-parent":"#exampleAccordion"}},[t._v(t._s(a.name))]),t._v(" "),t._l(a.second_tabs,function(e,i){return s("div",{key:i,staticClass:"tabs collapse show",attrs:{id:a.info+"tab",role:"tabpanel",name:a.info+i==t.active?"active":""},on:{click:function(s){return t.tabChange(a.info+i,e)}}},[t._v(t._s(e))])})],2)}),0)])]),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"tittle"},[s("p",[t._v(t._s(t.tabName))])]),t._v(" "),s("div",{staticClass:"tab-content"},[s("tab-content",{attrs:{tabName:t.active}},[s("div",{staticClass:"myMessage0",attrs:{slot:"myMessage0"},slot:"myMessage0"},[s("div",{staticClass:"input-group input-group-sm name"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("昵称")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentName},on:{input:function(a){a.target.composing||(t.currentName=a.target.value)}}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"eyes_data"},[s("div",{staticClass:"input-group input-group-sm eyesDataStatus"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("近视远视情况")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.status,expression:"currentEyesData.status"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.status},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"status",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm eyesDataVision"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("视力")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.left,expression:"currentEyesData.left"}],staticClass:"form-control",attrs:{type:"text",placeholder:"左眼度数"},domProps:{value:t.currentEyesData.left},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"left",a.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.right,expression:"currentEyesData.right"}],staticClass:"form-control",attrs:{type:"text",placeholder:"右眼度数"},domProps:{value:t.currentEyesData.right},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"right",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm eyesDataOther"},[s("div",{staticClass:"input-group-prepend pd"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("瞳距")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.pd,expression:"currentEyesData.pd"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.pd},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"pd",a.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-prepend axis"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("轴度")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.axis,expression:"currentEyesData.axis"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.axis},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"axis",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm eyesDataVisualAcuity"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("矫正视力")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.visual_acuity,expression:"currentEyesData.visual_acuity"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.visual_acuity},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"visual_acuity",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm eyesDatacylinder"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("散光")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentEyesData.cylinder,expression:"currentEyesData.cylinder"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentEyesData.cylinder},on:{input:function(a){a.target.composing||t.$set(t.currentEyesData,"cylinder",a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"input-group input-group-sm checkBox"}),t._v(" "),s("div",{staticClass:"save",staticStyle:{display:"block"}},[s("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:function(a){return t.updateUserData()}}},[t._v("保存")])])]),t._v(" "),s("div",{staticClass:"myMessage1",attrs:{slot:"myMessage1"},slot:"myMessage1"},[s("div",{staticClass:"ImageBox"},[s("img",{staticClass:"userImage rounded-circle",attrs:{src:t.$url+t.userImage.image_url}})]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":".bd-example-modal-lg"}},[t._v("更换头像")]),t._v(" "),s("div",{staticClass:"modal fade bd-example-modal-lg uploadModal",attrs:{tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content uploadImg"},[s("cropperComponent",{on:{upload:function(a){return t.upload()}}})],1)])]),t._v(" "),s("ul",{staticClass:"userSave"},[s("li",[s("div",[s("p",{staticClass:"optionName"},[t._v("密码")]),t._v(" "),s("p",{staticClass:"optionState"},[t._v("已绑定")]),t._v(" "),s("a",{staticClass:"operation",attrs:{type:"button"}},[t._v("修改密码")])])]),t._v(" "),s("li",[s("div",[s("p",{staticClass:"optionName"},[t._v("手机")]),t._v(" "),s("p",{staticClass:"optionState"},[t._v("已绑定")]),t._v(" "),s("a",{staticClass:"operation",attrs:{type:"button"}},[t._v("修改手机")])])]),t._v(" "),s("li",[s("div",[s("p",{staticClass:"optionName"},[t._v("邮箱")]),t._v(" "),s("p",{staticClass:"optionState"},[t._v("已绑定")]),t._v(" "),s("a",{staticClass:"operation",attrs:{type:"button"}},[t._v("修改邮箱")])])])])]),t._v(" "),s("div",{staticClass:"addressTable",attrs:{slot:"myMessage2"},slot:"myMessage2"},[s("div",{staticClass:"addresses"},[s("ul",{staticClass:"addressList"},[s("li",{staticClass:"listHead"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[t._v("地址")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("联系方式")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("收件人")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("操作")])])]),t._v(" "),t._l(t.user.addresses,function(a,e){return s("li",{key:e,staticClass:"address"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[t._v(t._s(a.address))]),t._v(" "),s("div",{staticClass:"col-2"},[t._v(t._s(a.contact_phone))]),t._v(" "),s("div",{staticClass:"col-2"},[t._v(t._s(a.contact_name))]),t._v(" "),s("div",{staticClass:"col-2"},[s("a",{staticClass:"operation",staticStyle:{"margin-right":"15px"},attrs:{"data-toggle":"modal","data-target":"#addressModal"},on:{click:function(s){return t.modelOpen(a)}}},[t._v("修改")]),t._v(" "),s("a",{staticClass:"operation",attrs:{id:"delete"},on:{click:function(s){return t.deleteAddress(a.id)}}},[t._v("删除")])])])])})],2)]),t._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"btn btn-danger",attrs:{"data-toggle":"modal","data-target":"#addressModal"},on:{click:function(a){return t.modelOpen(null)}}},[t._v("添加地址")])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"addressModal",tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"addressModalTitle"}},[t._v("添加地址")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"200px","margin-bottom":"20px"}},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("收件人")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.contact_name,expression:"currentAddress.contact_name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.contact_name},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"contact_name",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm",staticStyle:{width:"200px","margin-bottom":"20px"}},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("联系方式")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.contact_phone,expression:"currentAddress.contact_phone"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.contact_phone},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"contact_phone",a.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-group input-group-sm"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("地址")])]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentAddress.address,expression:"currentAddress.address"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.currentAddress.address},on:{input:function(a){a.target.composing||t.$set(t.currentAddress,"address",a.target.value)}}})])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.addAddress()}}},[t._v("保 存")])])])])])]),t._v(" "),s("div",{staticClass:"myOrder0",attrs:{slot:"myOrder0"},slot:"myOrder0"},[s("ul",{staticClass:"myOrders"},[s("li",{staticClass:"myOrdersTitle"},[s("div",{staticClass:"row",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"col-6"},[t._v("商品")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("单价")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("数量")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("总价")])])]),t._v(" "),t._l(t.user.orders,function(a,e){return s("li",{key:e,staticClass:"order"},[s("div",{attrs:{id:"orderAccordion","data-children":".item"}},[s("div",{staticClass:"item",staticStyle:{width:"100%"}},[s("div",{staticClass:"orderTitle",attrs:{"data-toggle":"collapse","data-parent":"#orderAccordion",href:"#orderAccordion"+e,"aria-expanded":"true","aria-controls":"orderAccordion"+e}},[s("h6",{staticClass:"float-left",staticStyle:{"margin-left":"30px"}},[t._v("订单编号："+t._s(a.no))]),t._v(" "),s("h6",{staticClass:"float-right",staticStyle:{"margin-right":"30px","margin-left":"60px"}},[t._v("支付时间："+t._s(a.paid_at))]),t._v(" "),s("h6",{staticClass:"float-right",staticStyle:{"argin-right":"30px"}},[t._v("状态："+t._s(a.order_status))])]),t._v(" "),s("div",{staticClass:"collapse show",attrs:{id:"orderAccordion"+e,role:"tabpanel"}},[t._l(a.items,function(a,e){return s("div",{key:e,staticClass:"orderItem row"},[s("div",{staticClass:"col-6 productInfo"},[s("div",{staticClass:"productImg"},[s("img",{attrs:{src:t.$url+(a.product.images.length?a.product.images[0].image_url:1)}})]),t._v(" "),s("div",{staticClass:"description"},[s("div",{staticClass:"productName"},[s("p",[t._v(t._s(a.product.title))])]),t._v(" "),s("div",{staticClass:"sku"},[s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(a.product_sku.title))])])])]),t._v(" "),s("div",{staticClass:"col-2 price"},[t._v("￥"+t._s(a.price))]),t._v(" "),s("div",{staticClass:"col-2 number"},[t._v(t._s(a.amount))]),t._v(" "),s("div",{staticClass:"col-2 totlePrice price"},[t._v("￥"+t._s(a.price*a.amount))])])}),t._v(" "),s("div",{staticClass:"orderFooter"},[s("div",{staticClass:"addressInfo col-9"},[s("p",{staticClass:"orderAdress"},[t._v("收货地址："+t._s(a.address))]),t._v(" "),s("p",{staticClass:"orderContact"},[t._v("\n                                收货人：陈剑栋\n                                "),s("span",{staticStyle:{"margin-left":"25px"}},[t._v("电话：10086")])])]),t._v(" "),s("div",{staticClass:"orderPrice col-3"},[t._v("\n                              总计：\n                              "),s("span",{staticStyle:{color:"rgb(255, 74, 74)"}},[t._v("￥"+t._s(a.total_amount))])])])],2)])])])})],2)]),t._v(" "),s("div",{staticClass:"myOrder1",attrs:{slot:"myOrder1"},slot:"myOrder1"},[s("ul",{staticClass:"cartItems"},[s("li",{staticClass:"myOrdersTitle"},[s("div",{staticClass:"row",staticStyle:{"text-align":"center"}},[s("div",{staticClass:"col-1"}),t._v(" "),s("div",{staticClass:"col-5"},[t._v("商品")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("单价")]),t._v(" "),s("div",{staticClass:"col-1"},[t._v("数量")]),t._v(" "),s("div",{staticClass:"col-2"},[t._v("总价")])])]),t._v(" "),t._l(t.user.cart_items,function(a,e){return s("li",{key:e,staticClass:"cartItem"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1 checkClomn"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.currentCartItems,expression:"currentCartItems"}],attrs:{type:"checkbox"},domProps:{value:a,checked:Array.isArray(t.currentCartItems)?t._i(t.currentCartItems,a)>-1:t.currentCartItems},on:{change:function(s){var e=t.currentCartItems,i=s.target,r=!!i.checked;if(Array.isArray(e)){var n=a,o=t._i(e,n);i.checked?o<0&&(t.currentCartItems=e.concat([n])):o>-1&&(t.currentCartItems=e.slice(0,o).concat(e.slice(o+1)))}else t.currentCartItems=r}}})]),t._v(" "),s("div",{staticClass:"col-5 productInfo"},[s("div",{staticClass:"productImg"},[s("img",{attrs:{src:t.$url+(a.product_sku.product.images.length?a.product_sku.product.images[0].image_url:1)}})]),t._v(" "),s("div",{staticClass:"description"},[s("div",{staticClass:"productName"},[s("p",[t._v(t._s(a.product_sku.product.title))])]),t._v(" "),s("span",{staticClass:"badge badge-secondary"},[t._v(t._s(a.product_sku.title))])])]),t._v(" "),s("div",{staticClass:"col-2 price"},[t._v("￥"+t._s(a.product_sku.price))]),t._v(" "),s("div",{staticClass:"col-1 number"},[t._v(t._s(a.amount))]),t._v(" "),s("div",{staticClass:"col-2 totlePrice price"},[t._v("￥"+t._s(a.amount*a.product_sku.price))])])])})],2),t._v(" "),s("div",{staticClass:"Settlement"},[s("button",{staticClass:"btn btn-danger float-md-right",attrs:{type:"button"},on:{click:function(a){return t.Settlement()}}},[t._v("结算 ￥"+t._s(t.ItemsPrice))])]),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"cartModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"cartModalLabel"}},[t._v("购物车")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[s("p",[s("span",{staticStyle:{color:"#dc3545"}},[t._v(t._s(t.currentCartItems.length))]),t._v("条订单，共\n                          "),s("span",{staticStyle:{color:"#dc3545"}},[t._v(t._s(t.ItemsPrice))]),t._v("元\n                        ")]),t._v(" "),s("div",{staticClass:"dropdown"},[s("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("选择地址")]),t._v(" "),s("div",{staticClass:"dropdown-menu addressDropdown",attrs:{"aria-labelledby":"dropdownMenuButton"}},t._l(t.user.addresses,function(a,e){return s("a",{key:e,staticClass:"dropdown-item",on:{click:function(s){return t.changeCartAddress(a)}}},[s("p",[t._v(t._s(a.address))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px",color:"#99a2aa",float:"left","margin-right":"20px"}},[t._v("联系人："+t._s(a.contact_name))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px",color:"#99a2aa",float:"left"}},[t._v("电话："+t._s(a.contact_phone))])])}),0)]),t._v(" "),s("div",{staticClass:"input-group addressInput",staticStyle:{"margin-top":"20px"}},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text"},[t._v("地址")])]),t._v(" "),s("input",{staticClass:"form-control col-6",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.address}}),t._v(" "),s("input",{staticClass:"form-control col-2",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.contact_name}}),t._v(" "),s("input",{staticClass:"form-control col-4",attrs:{type:"text",disabled:""},domProps:{value:t.cartAddress.contact_phone}})])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.pay()}}},[t._v("确定支付")])])])])])])])],1)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"tittle"},[a("p",[this._v("个人中心")])])}]};var $=function(t){s("o8IA")},k=s("VU/8")(x.a,w,!1,$,"data-v-03847a7c",null).exports,S={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("headTop"),this._v(" "),a("searchTop"),this._v(" "),a("pageNav"),this._v(" "),this._m(0)],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-xl"},[e("div",{staticClass:"list card"},[e("div",{staticClass:"card-header"},[t._v("当前品牌")]),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"col-3 order"},[e("div",{staticClass:"card"},[e("img",{staticClass:"card-img-top",attrs:{src:s("c+Ht")}}),t._v(" "),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"title"},[t._v("Cardtitleqweqwasdasqeqe")]),t._v(" "),e("p",{staticClass:"card-text",staticStyle:{"margin-bottom":"5px"}},[e("small",{staticClass:"text-muted"},[t._v("红色")])]),t._v(" "),e("p",{staticClass:"card-text float-left"},[t._v("\n                单价:\n                "),e("span",{staticStyle:{color:"#fe6200"}},[t._v("￥66")])]),t._v(" "),e("p",{staticClass:"card-text float-left",staticStyle:{"margin-left":"30px"}},[t._v("\n                数量:\n                "),e("span",{staticStyle:{color:"red"}},[t._v("2")])])]),t._v(" "),e("div",{staticClass:"card-footer btn",attrs:{"data-toggle":"modal","data-target":".orderDetial"}},[t._v("查看详情")])])])]),t._v(" "),e("div",{staticClass:"modal fade orderDetial",attrs:{tabindex:"-1",role:"dialog"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("详情信息")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("p",[t._v("商品名称：asdasdadada")]),t._v(" "),e("p",[t._v("客户名称：AssHunter")]),t._v(" "),e("p",[t._v("款式：sadasdasd")]),t._v(" "),e("p",[t._v("单价：sadasdasd")]),t._v(" "),e("p",[t._v("数量：2")])]),t._v(" "),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-danger"},[t._v("接取此单")])])])])]),t._v(" "),e("div",{staticClass:"card-footer"},[e("nav",{attrs:{"aria-label":"..."}},[e("ul",{staticClass:"pagination"},[e("li",{staticClass:"page-item disabled"},[e("a",{staticClass:"page-link",attrs:{href:"#",tabindex:"-1"}},[t._v("Previous")])]),t._v(" "),e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("1")])]),t._v(" "),e("li",{staticClass:"page-item active"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("\n                2\n                "),e("span",{staticClass:"sr-only"},[t._v("(current)")])])]),t._v(" "),e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("3")])]),t._v(" "),e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v("Next")])])])])])])])}]};s("VU/8")({data:function(){return{}}},S,!1,function(t){s("BaN0")},"data-v-3a79ec69",null).exports;e.a.use(n.a);var P=new n.a({routes:[{path:"/",name:"index",meta:{login:!1},component:c},{path:"/login",name:"login",meta:{login:!1},component:v},{path:"/shop",name:"shop",meta:{login:!1},component:h},{path:"/shop/:productId",name:"productInfo",meta:{login:!0},component:y},{path:"/user",name:"user",meta:{login:!0},component:k}]}),A=s("NYxO");e.a.use(A.a);var E=new A.a.Store({state:{user:"",isLogin:0,products:null,currentBrand:null,currentProduct:null,searchProducts:null},mutations:{setUser:function(t){if(!localStorage.user)return layer.msg("数据错误",{icon:3});t.user=JSON.parse(localStorage.user),t.isLogin=1},setProducts:function(t,a){t.products=a},logout:function(t){localStorage.removeItem("user"),localStorage.removeItem("JWT_token"),t.isLogin=0},setSearchProducts:function(t,a){t.searchProducts=a}},getters:{userData:function(t){return localStorage.getItem("user")&&(t.user=JSON.parse(localStorage.getItem("user")),t.isLogin=1),t},products:function(t){return t.products},selectProducts:function(t){return t.products.map(function(a){if(!(null!=t.currentBrand&&t.currentBrand!=a.productable.brand||null!=t.currentProduct&&t.currentProduct!=a.productable_type))return a}).filter(function(t){return void 0!=t})},searchProducts:function(t){return t.searchProducts}}}),I=(s("4kSj"),s("//Fk")),N=s.n(I),D=s("mtWM"),T=s.n(D),B=s("osWI"),M=s.n(B),L=s("mw3O"),R=s.n(L);function O(t){return 200===t.status?(t.message&&M.a.msg(t.message,{icon:1}),t):(t.message&&M.a.msg(t.message,{icon:1}),M.a.msg(t.message,{icon:3}),t)}function F(t){if(200!=t.status)return M.a.msg(t.data.message,{icon:3}),t}T.a.interceptors.request.use(function(t){return localStorage.JWT_TOKEN&&(t.headers.token=localStorage.JWT_TOKEN),t},function(t){return M.a.msg(t,{icon:5}),N.a.reject(t)}),T.a.interceptors.response.use(function(t){return t.data},function(t){return M.a.msg("Http请求失败，请联系管理员",{icon:5}),N.a.reject(t.response)});var U={post:function(t,a){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(a=R.a.stringify(a)),T()({method:"post",baseURL:"/api",url:t,data:a,withCredentials:!0,timeout:5e3}).then(function(t){return O(t)},function(t){return F(t)})},get:function(t,a){return T()({method:"get",baseURL:"/api",url:t,params:a,withCredentials:!0,timeout:5e3}).then(function(t){return O(t)},function(t){return F(t)})}},z={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header_top"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-white",attrs:{id:"top_nav"}},[s("router-link",{staticClass:"title",attrs:{to:{name:"index"}}},[t._v("\n      iflens\n      "),s("span",[t._v("-中国最大的线上镜片交易网站")])]),t._v(" "),s("div",{staticClass:"nav_btns"}),t._v(" "),t.userData.isLogin?s("ul",{staticClass:"navbar-nav navbar-expand"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link"},[s("img",{staticClass:"userImage",attrs:{src:this.$url+t.userData.user.image.image_url}})])]),t._v(" "),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v(t._s(t.userData.user.name))])]),t._v(" "),s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("我的账户")]),t._v(" "),s("div",{staticClass:"userOperation dropdown-menu",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[s("router-link",{staticClass:"dropdown-item",attrs:{to:{name:"user"}}},[s("a",[t._v("个人中心")])]),t._v(" "),s("a",{staticClass:"dropdown-item",on:{click:function(a){return t.logout()}}},[t._v("退出登录")])],1)])]):s("ul",{directives:[{name:"show",rawName:"v-show",value:"login"!=this.$route.name,expression:"this.$route.name!='login'"}],staticClass:"navbar-nav navbar-expand"},[s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"}}},[t._v("登录")])],1),t._v(" "),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:{name:"login",params:{formState:2}}}},[t._v("注册")])],1)])],1)])},staticRenderFns:[]};var H=s("VU/8")({data:function(){return{}},computed:{userData:function(){return this.$store.getters.userData}},methods:{logout:function(){this.$store.commit("logout"),this.$router.push({path:"/"})}}},z,!1,function(t){s("37Om")},"data-v-0a4ae131",null).exports,j={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"page_nav"},[a("div",{staticClass:"container-xl"},[a("div",{staticClass:"category"},[a("div",{staticClass:"dropdown"},[a("div",{staticStyle:{"border-radius":"20px"},attrs:{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("svg",{staticClass:"bi bi-list",attrs:{width:"1.5em",height:"1.5em",viewBox:"0 0 20 20",fill:"#ffff",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4.5 13.5A.5.5 0 015 13h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 9h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 5h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule":"evenodd"}})]),this._v(" "),a("span",{staticStyle:{"letter-spacing":"20px"}},[this._v("分类")])]),this._v(" "),this._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"dropdown-menu",staticStyle:{width:"270px"}},[a("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[this._v("Action")]),this._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[this._v("Another action")]),this._v(" "),a("button",{staticClass:"dropdown-item",attrs:{type:"button"}},[this._v("Something else here")])])}]};var V=s("VU/8")({data:function(){return{}}},j,!1,function(t){s("rUTp")},"data-v-6c1d010b",null).exports,W={data:function(){return{type:[{name:"全部分类"},{name:"镜片",value:"App\\Models\\Lens"},{name:"镜架",value:"App\\Models\\Frame"}],currentType:0,title:"",searchAmount:"",searchDropdown:0}},mounted:function(){null==this.$store.state.searchProducts&&this.getSeacrchProducts()},methods:{getSeacrchProducts:function(){var t=this;this.$http.post(this.$api.getSearchProducts).then(function(a){200==a.status&&t.$store.commit("setSearchProducts",a.products)})},changeCurrentType:function(t){this.currentType=t}},computed:{allProducts:function(){var t=this;return 0!=this.currentType?this.$store.getters.searchProducts.filter(function(a){return a.productable_type==t.type[t.currentType].value}):this.$store.getters.searchProducts},searchProducts:function(){var t=this;if(console.log(this.allProducts),null!=this.allProducts&&""!=this.title.trim())return this.allProducts.filter(function(a){return-1!==a.title.indexOf(t.title.trim())}).slice(0,10)}}},G={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"search_top"},[s("div",{staticClass:"container-xl"},[s("div",{staticClass:"logo"}),t._v(" "),s("div",{staticClass:"search_box"},[s("div",{staticClass:"input-group input-group-lg",staticStyle:{height:"100%","align-items":"center",width:"80%","font-size":"20px"}},[s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"selectBox"},[s("button",{staticClass:"btn btn-outline-light dropdown-toggle border-right-1",attrs:{id:"search_category",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(t._s(t.type[t.currentType].name))]),t._v(" "),s("div",{staticClass:"dropdown-menu"},t._l(t.type,function(a,e){return s("a",{key:e,class:["dropdown-item",{active:t.currentType==e}],attrs:{href:"#"},on:{click:function(a){return t.changeCurrentType(e)}}},[t._v(t._s(a.name))])}),0)])]),t._v(" "),s("div",{staticClass:"searchBox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control border-left-0 dropdown-toggle",attrs:{type:"text",id:"search",placeholder:"请输入内容...","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},domProps:{value:t.title},on:{focus:function(a){t.searchDropdown=1},input:function(a){a.target.composing||(t.title=a.target.value)}}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.searchDropdown,expression:"searchDropdown"}],staticClass:"dropdown-menu"},t._l(this.searchProducts,function(a,e){return s("a",{key:e,staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(s){return t.$router.push({name:"productInfo",params:{productId:a.id}})}}},[t._v(t._s(a.title))])}),0)]),t._v(" "),t._m(0)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-light",attrs:{type:"button",id:"search_btn"}},[a("img",{staticStyle:{width:"25px"},attrs:{src:s("dZHa")}})])])}]};var J=s("VU/8")(W,G,!1,function(t){s("7cij")},"data-v-42d19c62",null).exports;var Y=function(t){t.component("headTop",H),t.component("pageNav",V),t.component("searchTop",J)},Z=(s("qb6w"),s("Bb4J"),s("e0XP"),s("M9AG"),s("YZ0n")),q=s.n(Z),Q=s("EAZf"),X=s.n(Q);s("N1kN");e.a.use(X.a),X.a.setDefaults({Options:{inline:!0,button:!0,navbar:!0,title:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,keyboard:!0,url:"data-source"}}),e.a.use(M.a),e.a.use(q.a),e.a.prototype.$axios=T.a,e.a.prototype.$http=U,e.a.prototype.$api={login:"/login",register:"/register",getAuth:"/getAuth",getProducts:"/getProducts",getProduct:"/getProduct",addToCart:"/addToCart",addAddress:"/addAddress",getRelevance:"/getRelevance",deleteAddress:"/deleteAddress",updateUserData:"/updateUserData",setOrder:"/setOrder",getHotProducts:"getHotProducts",getSearchProducts:"getSearchProducts",upload:"upload"},e.a.prototype.$url="http://iflens.com",P.beforeEach(function(t,a,s){t.matched.some(function(t){return t.meta.login})&&0==E.state.isLogin?s("/login"):s()}),e.a.use(Y),new e.a({el:"#app",router:P,store:E,components:{App:r},template:"<App/>"})},Yp1C:function(t,a){},ZuC4:function(t,a){},"c+Ht":function(t,a,s){t.exports=s.p+"static/img/thumb_5479_thumb_VA108M2NLL3Dj2Pv_15.f1e3762.jpg"},csAk:function(t,a,s){t.exports=s.p+"static/img/login_bg.f318304.jpg"},dZHa:function(t,a){t.exports="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iYmkgYmktc2VhcmNoIiB3aWR0aD0iMWVtIiBoZWlnaHQ9IjFlbSIgdmlld0JveD0iMCAwIDIwIDIwIiBmaWxsPSJjdXJyZW50Q29sb3IiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNDQyIDEyLjQ0MmExIDEgMCAwMTEuNDE1IDBsMy44NSAzLjg1YTEgMSAwIDAxLTEuNDE0IDEuNDE1bC0zLjg1LTMuODVhMSAxIDAgMDEwLTEuNDE1eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC41IDE0YTUuNSA1LjUgMCAxMDAtMTEgNS41IDUuNSAwIDAwMCAxMXpNMTUgOC41YTYuNSA2LjUgMCAxMS0xMyAwIDYuNSA2LjUgMCAwMTEzIDB6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+"},e0XP:function(t,a){},"goV/":function(t,a,s){"use strict";var e=s("pFYg"),i=s.n(e),r={name:"cropper",data:function(){return{crap:!1,previews:{},option:{img:"iflens.com/image/user",info:!0,outputSize:1,full:!0,outputType:"png",canMove:!1,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:150,autoCropHeight:150,fixedBox:!0},fileName:"",downImg:"#",imgFile:"",uploadImgRelaPath:""}},props:["uploadType"],methods:{changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},finish:function(t){var a=this;console.log("finish",t);var s=this,e=new FormData;"blob"===t?this.$refs.cropper.getCropBlob(function(t){window.URL.createObjectURL(t);e.append("multfile",t,s.fileName),e.append("operaType",a.uploadType),console.log(e.get("multfile")),a.$http.post(a.$api.upload,e,!1).then(function(t){200==t.status&&a.$emit("upload")})}):this.$refs.cropper.getCropData(function(t){})},realTime:function(t){console.log("realTime"),this.previews=t},down:function(t){var a=this;console.log("down");var s=document.createElement("a");s.download="author-img","blob"===t?this.$refs.cropper.getCropBlob(function(t){a.downImg=window.URL.createObjectURL(t),s.href=window.URL.createObjectURL(t),s.click()}):this.$refs.cropper.getCropData(function(t){a.downImg=t,s.href=t,s.click()})},uploadImg:function(t,a){console.log("uploadImg");var s=this,e=t.target.files[0];if(s.fileName=e.name,!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return alert("图片类型必须是.gif,jpeg,jpg,png,bmp中的一种"),!1;var r=new FileReader;r.onload=function(t){var e=void 0;e="object"===i()(t.target.result)?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,1===a?s.option.img=e:2===a&&(s.example2.img=e)},r.readAsArrayBuffer(e)},imgLoad:function(t){console.log("imgLoad"),console.log(t)}}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"cropper-component"},[s("div",{staticClass:"info-item"},[s("div",{staticClass:"btn-box"},[s("label",{staticClass:"btn",attrs:{for:"uploads"}},[t._v("选择图片")]),t._v(" "),s("input",{staticStyle:{position:"absolute",clip:"rect(0 0 0 0)",width:"1px"},attrs:{type:"file",id:"uploads",accept:"image/png, image/jpeg, image/gif, image/jpg"},domProps:{value:t.imgFile},on:{change:function(a){return t.uploadImg(a,1)}}}),t._v(" "),s("input",{staticClass:"operation-btn",attrs:{type:"button",value:"+",title:"放大"},on:{click:function(a){return t.changeScale(1)}}}),t._v(" "),s("input",{staticClass:"operation-btn",attrs:{type:"button",value:"-",title:"缩小"},on:{click:function(a){return t.changeScale(-1)}}}),t._v(" "),s("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↺",title:"左旋转"},on:{click:t.rotateLeft}}),t._v(" "),s("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↻",title:"右旋转"},on:{click:t.rotateRight}}),t._v(" "),s("input",{staticClass:"operation-btn",attrs:{type:"button",value:"↓",title:"下载"},on:{click:function(a){return t.down("blob")}}}),t._v(" "),s("div",{staticClass:"btn",on:{click:function(a){return t.finish("blob")}}},[t._v("上传头像")])]),t._v(" "),s("div",{staticClass:"operation-box"},[s("div",{staticClass:"cropper"},[s("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.option.size,outputType:t.option.outputType,info:t.option.info,full:t.option.full,canMove:t.option.canMove,canMoveBox:t.option.canMoveBox,original:t.option.original,autoCrop:t.option.autoCrop,autoCropWidth:t.option.autoCropWidth,autoCropHeight:t.option.autoCropHeight,fixedBox:t.option.fixedBox},on:{realTime:t.realTime,imgLoad:t.imgLoad}})],1)]),t._v(" "),s("div",{staticClass:"preview-box"},[s("div",[t._v("预览：")]),t._v(" "),s("div",{staticClass:"preview",style:t.previews.div},[s("img",{style:t.previews.img,attrs:{src:t.previews.url}})])])])])},staticRenderFns:[]};var o=s("VU/8")(r,n,!1,function(t){s("ZuC4")},"data-v-59d56782",null);a.a=o.exports},mWYj:function(t,a){},o8IA:function(t,a){},pHT2:function(t,a){},pSWB:function(t,a){},qb6w:function(t,a){},rUTp:function(t,a){},rtkI:function(t,a,s){t.exports=s.p+"static/img/slider1.6fd35bf.jpg"},unXG:function(t,a,s){"use strict";(function(t){var e=s("mvHQ"),i=s.n(e),r=s("e7x4"),n=(s.n(r),s("mw3O"));s.n(n);a.a={data:function(){return{formState:1,userLogin:{email:"1440963706@qq.com",password:"cjd2877096"},userRegister:{name:"123123",email:"14409637@qq.com",password:"cjd123123"}}},methods:{changeForm:function(t){this.formState=t},login:function(){var t=this,a=this.userLogin;if(!this.dataIsEmpty(this.userLogin))return!1;this.$http.post(this.$api.login,a).then(function(a){200==a.status&&(localStorage.JWT_TOKEN=a.token,console.log(localStorage.JWT_TOKEN),t.getAuth())})},getAuth:function(){var t=this;this.$http.post(this.$api.getAuth).then(function(a){200==a.status&&(localStorage.user=i()(a.user),t.$store.commit("setUser"),t.$router.push({path:"/"}))})},register:function(){var t=this,a=this.userRegister;if(!this.dataIsEmpty(this.userRegister))return!1;this.$http.post(this.$api.register,a).then(function(a){200==a.status&&(localStorage.JWT_TOKEN=a.token,t.getAuth())})},dataIsEmpty:function(t){for(var a in t)if(""==t[a])return layer.msg(a+"不能为空",{icon:2}),!1;return!0}},mounted:function(){this.$route.params.formState&&(this.formState=this.$route.params.formState),t("body").css({background:"url("+s("csAk")+") no-repeat","background-size":"100% 100%","background-attachment":"fixed",overflow:"hidden"})},beforeDestroy:function(){t("body").removeAttr("style")}}}).call(a,s("4kSj"))},"wp/7":function(t,a,s){t.exports=s.p+"static/img/slider3.dd8f012.jpg"}},["NHnr"]);
//# sourceMappingURL=app.634d1ead33ce3189c1c5.js.map